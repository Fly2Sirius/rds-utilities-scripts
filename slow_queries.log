
# 690ms user time, 30ms system time, 39.46M rss, 58.48M vsz
# Current date: Wed Jul  6 14:10:09 2022
# Hostname: pop-os
# Files: production_slow.txt
# Overall: 6.06k total, 59 unique, 1.71 QPS, 0.11x concurrency ___________
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:31
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time           391s    60us     14s    64ms     2ms   623ms   424us
# Lock time            11s       0      1s     2ms   144us    33ms    47us
# Rows sent        647.82k       0   3.44k  109.47  118.34  519.77    4.96
# Rows examine       4.18M       0  38.58k  722.67  833.10   3.35k   84.10
# Query size         3.31M      60   4.87k  572.38   2.62k  912.96  130.47

# Profile
# Rank Query ID                           Response time  Calls R/Call V/M 
# ==== ================================== ============== ===== ====== ====
#    1 0x64EF0EA126730002088884A136067321 368.3707 94.3%    60 6.1395  0.58 
#    2 0x51948FC40FBC2A3B5131E13BC8F147E3  18.1300  4.6%   143 0.1268  0.00 SELECT UNION users userPermissions permissions users lenderUserRoles rolePermissions permissions
#    3 0xB980587884EB1DDDF8858EEAEC19BAD5   0.7002  0.2%   498 0.0014  0.00 SELECT borrowerValues borrowerAttributes borrowerValues borrowerAttributes
#    4 0xEB097604EE3657919BC3B643CA3D906E   0.6727  0.2%    11 0.0612  0.00 SELECT UNION assignmentGroupCategories assignmentGroupClassifications assignmentGroupMediums assignmentGroupSources assignmentGroupFirstDrawLenders assignmentGroupTimezones assignmentGroups assignmentGroupLenders assignmentGroupTeams
#    5 0x1771AB0DB03C3F8C89E347479A399A33   0.2926  0.1%   242 0.0012  0.00 SELECT borrowerValues borrowerAttributes borrowerValues
#    6 0x1D1F58DF0661682C63580ABA09CDB4B9   0.2546  0.1%   167 0.0015  0.00 SELECT borrowers deals applications offers activities calls chats offers
#    7 0xDB3574B998BE4648C386C9CDE240171D   0.2518  0.1%   269 0.0009  0.00 SELECT borrowerValues borrowerAttributes borrowerValues
#    8 0x37627F1BB500F882C5B3495043621004   0.2440  0.1%   184 0.0013  0.00 SELECT borrowers deals applications offers activities calls chats
#    9 0xA5A443005C9A98E641DF3CD77E204FD2   0.1903  0.0%   505 0.0004  0.00 SELECT applicationFieldRequirements
#   10 0x6B783D06A8BA45E076716A866C0BF329   0.1430  0.0%   282 0.0005  0.00 SELECT performance_schema.rds_events_threads_waits_current
#   11 0xF7E6A33EC4F41F26D5B922F0369E317A   0.1351  0.0%   350 0.0004  0.00 SELECT cadenceBorrowerFilters
#   12 0xDC61B716964374C612EA8AD0822FA24D   0.1279  0.0%   262 0.0005  0.00 SELECT UNION trackedCallEvents trackedCallEventCallLegs callLegs trackedCallEventCallLegs trackedCallEvents callLegs trackedCallEventCallLegs trackedCallEvents
#   13 0xA191748092B529B62DFA35879193E5B1   0.1109  0.0%   288 0.0004  0.00 SELECT information_schema.columns
#   14 0x4BF5F8AB5076D5FDE8358A9F1658A59E   0.0955  0.0%    75 0.0013  0.00 SELECT borrowerValues
#   15 0xBEAC5771158B44E43B4FFB737560240D   0.0949  0.0%    72 0.0013  0.00 SELECT borrowerValues
#   16 0x59111495080436F05475C2874B415BE5   0.0834  0.0%   128 0.0007  0.00 SELECT INFORMATION_SCHEMA.GLOBAL_STATUS
#   17 0x2CFD59BA2F9841A1E3C6F17A01EEA0BD   0.0781  0.0%    39 0.0020  0.00 SELECT performance_schema.events_statements_summary_by_digest
#   18 0xCE84F37FDD1D08C97ADCDFF2134D2911   0.0709  0.0%   170 0.0004  0.00 SELECT information_schema.replica_host_status
#   19 0xE95137EB718F9D576641043F56CDAE57   0.0612  0.0%    47 0.0013  0.00 SELECT permissions rolePermissions
#   20 0xAF4ED8A1F2C8E917A823BD0C997A3A3E   0.0584  0.0%    68 0.0009  0.00 SET SELECT information_schema.processlist
#   21 0x2BDBDC5BAEEE76CC1134ED0AF2B40FF9   0.0583  0.0%    69 0.0008  0.00 SELECT information_schema.processlist
#   22 0x016E593F9DB91E455572A38EA7C8E081   0.0574  0.0%   711 0.0001  0.00 SELECT borrowerValuesSources
#   23 0x065BB26144892032845C39196CA62A43   0.0447  0.0%    39 0.0011  0.00 SELECT information_schema.rds_metrics_gauge information_schema.rds_metrics_meta
#   24 0x0219FCAED57E10E173A4943AE24A93D1   0.0349  0.0%   338 0.0001  0.00 SELECT yourls_options
#   25 0x82025E7A2C8F2715C24EFF2940B79105   0.0326  0.0%   184 0.0002  0.00 SELECT loanProductCategories
#   26 0x74BE866E0D96DD6B74019868490DE501   0.0246  0.0%    42 0.0006  0.00 SELECT INFORMATION_SCHEMA.INNODB_METRICS
#   27 0xA92658C20F4F5A7EA56E6023A41CE6A4   0.0228  0.0%     2 0.0114  0.00 SELECT institutions lenders oauth_clients
#   28 0x43C0D4B507BFBA091454647A97282904   0.0225  0.0%    37 0.0006  0.00 SELECT INFORMATION_SCHEMA.INNODB_METRICS
#   29 0x50A20A875EF6DFC10D30AF4D67699B3D   0.0221  0.0%    37 0.0006  0.00 SELECT INFORMATION_SCHEMA.INNODB_METRICS
#   30 0x9241CC6FC789622D68728E9EFC279FAE   0.0210  0.0%    36 0.0006  0.00 SELECT INFORMATION_SCHEMA.INNODB_METRICS
#   31 0x780F8793AD28FACD9EE2962AFBAE23D4   0.0197  0.0%    33 0.0006  0.00 SELECT INFORMATION_SCHEMA.INNODB_METRICS
#   32 0x21F4F48D21731C762974FF7E5891580D   0.0184  0.0%    39 0.0005  0.00 SELECT information_schema.rds_metrics_counter information_schema.rds_metrics_meta
#   33 0xD60F341D1C11FE9FD909BB82BFA70764   0.0179  0.0%   114 0.0002  0.00 SELECT loanProductCategories
#   34 0x2D172C39A40AD05F4F8F19E8B49E5277   0.0179  0.0%   210 0.0001  0.00 SELECT loanProductCategories
#   35 0xF43094D6B8515CADA726D34CE14DB2A5   0.0164  0.0%     7 0.0023  0.00 SELECT requests
#   36 0x3ADA98D0F87BED52AFEFB689099BD4A6   0.0154  0.0%    35 0.0004  0.00 SELECT INFORMATION_SCHEMA.REPLICA_HOST_STATUS
#   37 0x77BC67EFC50C69B8E4C12104332BAC0C   0.0127  0.0%    36 0.0004  0.00 SELECT deadDispositions
#   38 0xD96B42A584F1D0EE6484F56B803F42CC   0.0109  0.0%     5 0.0022  0.00 SELECT borrowerAttributes borrowerValues
#   39 0x0CC24DC7D6378A0DF6FAAD145317E3F5   0.0093  0.0%     4 0.0023  0.00 SELECT deals borrowers applications lenderDealLabels lenderLabels lenderUserDeals
#   40 0x9CCC4A9213C95A05D4C2FE378B8F6D8E   0.0093  0.0%    68 0.0001  0.00 SELECT loanProductGroups
#   41 0x7758605DB447D85CD4C2D5E54EC2A07B   0.0092  0.0%     5 0.0018  0.00 SELECT deals borrowers applications institutions
#   42 0x6DDEFDC736E0ECE37A27AFA07346819F   0.0089  0.0%    10 0.0009  0.00 SELECT borrowerValues borrowerAttributes borrowerValues
#   43 0x2A60BF4F0B360E43B8B7E6B77BD460C4   0.0073  0.0%    50 0.0001  0.00 SELECT INFORMATION_SCHEMA.INNODB_TRX
#   44 0xF9052B8F97921B2D8B4F97260AC00A50   0.0065  0.0%    40 0.0002  0.00 SELECT information_schema.TABLES
#   45 0x6AA79C15F6E638ED097EC3C693ED3DDE   0.0038  0.0%     6 0.0006  0.00 SELECT lenderUserHasLenderPortalNotifications lenderUserDeals lenderUserHasLenderPortalNotifications
#   46 0x9CAB5EF422459C4A2210012A09B19EDD   0.0036  0.0%     1 0.0036  0.00 SELECT affiliates
#   47 0x6AAB98BC4A6DE057AC9A369BC9023532   0.0032  0.0%     1 0.0032  0.00 SELECT deals borrowers applications lenderDealLabels lenderLabels lenderUserDeals borrowerWalleReady sbaStatus
#   48 0x494AB597240AFB8F4DBC21CD47CB2E67   0.0029  0.0%     7 0.0004  0.00 SELECT performance_schema.setup_instruments
#   49 0x01C30E58A33CFD7BA889A1C8CC217457   0.0024  0.0%     1 0.0024  0.00 SELECT borrowerValues borrowerAttributes borrowerValues borrowerAttributes
#   50 0x60716E6757C9B4456B46F5D47687507D   0.0008  0.0%     1 0.0008  0.00 SELECT lenderUserHasLenderPortalNotifications lenderUserDeals lenderUserHasLenderPortalNotifications
#   51 0xAAA2F46164171EFB5EEE8EDD7C806D22   0.0008  0.0%     1 0.0008  0.00 SELECT lenderUserHasLenderPortalNotifications lenderUserDeals lenderUserHasLenderPortalNotifications
#   52 0x76D9C3297B273321E0FE474B53FDE088   0.0007  0.0%     5 0.0001  0.00 SELECT information_schema.RDS_CONTROL_PERFORMANCE_INSIGHTS_STATUS
#   53 0x3DFB1D2943918F193699086B1C5989A1   0.0005  0.0%     7 0.0001  0.00 SELECT loanProductRestrictions
#   54 0x81002E074D11F59ADB1A5AAC1D14B0AB   0.0005  0.0%     4 0.0001  0.00 SELECT performance_schema.setup_actors
#   55 0xD3FDA7D883B664A2E3F4EA2E4A7E839B   0.0005  0.0%     4 0.0001  0.00 SELECT performance_schema.setup_consumers
#   56 0x3394EDFBFA26A9190825B91EFC1FA460   0.0004  0.0%     4 0.0001  0.00 SELECT mysql.rds_configuration
#   57 0xE9EEBE968082B0BD8FC22B82A704DFB1   0.0004  0.0%     2 0.0002  0.00 SELECT deadDispositions
#   58 0xCBD26BA08C328C95B22C5BBEE675BC95   0.0003  0.0%     4 0.0001  0.00 SELECT eventLogTypes
#   59 0xF849200284387F9B9017BC66C88E0B5A   0.0002  0.0%     1 0.0002  0.00 SELECT information_schema.TABLES

# Query 1: 0.02 QPS, 0.10x concurrency, ID 0x64EF0EA126730002088884A136067321 at byte 765753
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.58
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:26
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      60
# Exec time     94    368s      2s     14s      6s      9s      2s      6s
# Lock time     96     11s    46ms      1s   175ms      1s   288ms    75ms
# Rows sent      0   1.25k       0     210   21.32  202.40   60.62       0
# Rows examine   0   3.47k       0   1.51k   59.22  202.40  203.34       0
# Query size     0   3.52k      60      60      60      60       0      60
# String:
# Databases    optimus (57/95%), logs (2/3%)
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms
# 100ms
#    1s  ################################################################
#  10s+  ##
throttle:       2432 'index not used' warning(s) suppressed.\G

# Query 2: 0.04 QPS, 0.01x concurrency, ID 0x51948FC40FBC2A3B5131E13BC8F147E3 at byte 3605677
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:30
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2     143
# Exec time      4     18s   123ms   138ms   127ms   128ms     3ms   122ms
# Lock time      0    37ms   218us   321us   260us   287us    22us   247us
# Rows sent     75 491.84k   3.44k   3.44k   3.44k   3.44k       0   3.44k
# Rows examine  66   2.78M  19.90k  19.90k  19.90k  19.90k       0  19.90k
# Query size     2  96.64k     692     692     692     692       0     692
# String:
# Databases    optimus
# Hosts        10.101.108.171 (22/15%), 10.101.103.20 (20/13%)... 9 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms
# 100ms  ################################################################
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'users'\G
#    SHOW CREATE TABLE `optimus`.`users`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'userPermissions'\G
#    SHOW CREATE TABLE `optimus`.`userPermissions`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'permissions'\G
#    SHOW CREATE TABLE `optimus`.`permissions`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderUserRoles'\G
#    SHOW CREATE TABLE `optimus`.`lenderUserRoles`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'rolePermissions'\G
#    SHOW CREATE TABLE `optimus`.`rolePermissions`\G
# EXPLAIN /*!50100 PARTITIONS*/
select `users`.* from `users` inner join ((select `users`.* from `users` inner join `userPermissions` on `userPermissions`.`userId` = `users`.`id` inner join `permissions` on `permissions`.`id` = `userPermissions`.`permissionId` and `permissions`.`name` = 'receiveNewNotifications') union (select `users`.* from `users` inner join `lenderUserRoles` on `lenderUserRoles`.`lenderUserId` = `users`.`id` inner join `rolePermissions` on `rolePermissions`.`roleId` = `lenderUserRoles`.`roleId` inner join `permissions` on `permissions`.`id` = `rolePermissions`.`permissionId` and `permissions`.`name` = 'receiveNewNotifications')) AS usersWithPermission on `usersWithPermission`.`id` = `users`.`id`\G

# Query 3: 0.14 QPS, 0.00x concurrency, ID 0xB980587884EB1DDDF8858EEAEC19BAD5 at byte 860935
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          8     498
# Exec time      0   700ms   369us     3ms     1ms     2ms   596us     2ms
# Lock time      0    32ms       0    93us    63us    76us     8us    63us
# Rows sent      5  38.66k       4     208   79.50  136.99   45.40   92.72
# Rows examine   4 213.19k      20   1.20k  438.37  833.10  265.90  511.45
# Query size    10 360.37k     741     741     741     741       0     741
# String:
# Databases    optimus
# Hosts        10.101.106.53 (81/16%), 10.101.108.244 (59/11%)... 9 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ###########################
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerValues'\G
#    SHOW CREATE TABLE `optimus`.`borrowerValues`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerAttributes'\G
#    SHOW CREATE TABLE `optimus`.`borrowerAttributes`\G
# EXPLAIN /*!50100 PARTITIONS*/
select *, `borrowerValues`.`id` as `borrowerValuesId`, `borrowerValues`.`created` as `borrowerValueCreated` from `borrowerValues` inner join `borrowerAttributes` on `borrowerValues`.`attributeId` = `borrowerAttributes`.`id` inner join (select max(borrowerValues.modified) as maxMod, `attributeId` as `maxAtt` from `borrowerValues` inner join `borrowerAttributes` on `borrowerValues`.`attributeId` = `borrowerAttributes`.`id` where `borrowerValues`.`borrowerId` = 4013647 and `borrowerValues`.`borrowerId` is not null group by `attributeId`) as `vmm` on `borrowerValues`.`attributeId` = `vmm`.`maxAtt` and `borrowerValues`.`modified` = `vmm`.`maxMod` where `borrowerValues`.`borrowerId` = 4013647 and `borrowerValues`.`borrowerId` is not null\G

# Query 4: 0.00 QPS, 0.00x concurrency, ID 0xEB097604EE3657919BC3B643CA3D906E at byte 837409
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:24 to 2022-07-06T20:09:30
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      11
# Exec time      0   673ms    58ms    70ms    61ms    68ms     4ms    59ms
# Lock time      0     1ms    96us   132us   113us   131us    15us   113us
# Rows sent      1   7.48k     696     696     696     696       0     696
# Rows examine   9 424.41k  38.58k  38.58k  38.58k  38.58k       0  38.58k
# Query size     1  53.58k   4.87k   4.87k   4.87k   4.87k       0   4.87k
# String:
# Databases    optimus
# Hosts        10.101.106.53 (5/45%), 10.101.103.20 (2/18%)... 4 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms  ################################################################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'assignmentGroupCategories'\G
#    SHOW CREATE TABLE `optimus`.`assignmentGroupCategories`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'assignmentGroupClassifications'\G
#    SHOW CREATE TABLE `optimus`.`assignmentGroupClassifications`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'assignmentGroupMediums'\G
#    SHOW CREATE TABLE `optimus`.`assignmentGroupMediums`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'assignmentGroupSources'\G
#    SHOW CREATE TABLE `optimus`.`assignmentGroupSources`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'assignmentGroupFirstDrawLenders'\G
#    SHOW CREATE TABLE `optimus`.`assignmentGroupFirstDrawLenders`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'assignmentGroupTimezones'\G
#    SHOW CREATE TABLE `optimus`.`assignmentGroupTimezones`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'assignmentGroups'\G
#    SHOW CREATE TABLE `optimus`.`assignmentGroups`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'assignmentGroupLenders'\G
#    SHOW CREATE TABLE `optimus`.`assignmentGroupLenders`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'assignmentGroupTeams'\G
#    SHOW CREATE TABLE `optimus`.`assignmentGroupTeams`\G
# EXPLAIN /*!50100 PARTITIONS*/
select `assignmentGroups`.`id`, `assignmentGroups`.`name`, `assignmentGroups`.`priority`, `assignmentGroups`.`leadType`, `assignmentGroups`.`throttle`, `assignmentGroups`.`type`, `assignmentGroups`.`paused`, `assignmentGroups`.`entityType`, `assignmentGroups`.`cannotClaimAuto`, `assignmentGroups`.`ordering`, `assignmentGroups`.`deleted`, `assignmentGroups`.`appCompletenessStep`, `groupLendersOrTeams`.`cap`, (SELECT
                        GROUP_CONCAT(IF(assignmentGroupCategories.equals = 1, assignmentGroupCategories.loanProductCategoryId, NULL)) AS inCategories
                        FROM assignmentGroupCategories
                        WHERE assignmentGroupCategories.assignmentGroupId = assignmentGroups.id
                        ) AS inCategories, (SELECT
                        GROUP_CONCAT(IF(assignmentGroupCategories.equals = 1, NULL, assignmentGroupCategories.loanProductCategoryId)) AS notCategories
                        FROM assignmentGroupCategories
                        WHERE assignmentGroupCategories.assignmentGroupId = assignmentGroups.id
                        ) AS notCategories, (SELECT
                        GROUP_CONCAT(IF(assignmentGroupClassifications.equals, assignmentGroupClassifications.borrowerClassificationId, NULL)) AS inClassifications
                        FROM assignmentGroupClassifications
                        WHERE assignmentGroupClassifications.assignmentGroupId = assignmentGroups.id
                        ) AS inClassifications, (SELECT
                        GROUP_CONCAT(IF(assignmentGroupClassifications.equals, NULL, assignmentGroupClassifications.borrowerClassificationId)) AS notClassifications
                        FROM assignmentGroupClassifications
                        WHERE assignmentGroupClassifications.assignmentGroupId = assignmentGroups.id
                        ) AS notClassifications, (SELECT
                        GROUP_CONCAT(IF(assignmentGroupMediums.equals, assignmentGroupMediums.marketingMedium, NULL)) AS inMediums
                        FROM assignmentGroupMediums
                        WHERE assignmentGroupMediums.assignmentGroupId = assignmentGroups.id
                        ) AS inMediums, (SELECT
                        GROUP_CONCAT(IF(assignmentGroupMediums.equals, NULL, assignmentGroupMediums.marketingMedium)) AS notMediums
                        FROM assignmentGroupMediums
                        WHERE assignmentGroupMediums.assignmentGroupId = assignmentGroups.id
                        ) AS notMediums, (SELECT
                        GROUP_CONCAT(IF(assignmentGroupSources.equals, assignmentGroupSources.marketingSource, NULL) SEPARATOR '||') AS inSources
                        FROM assignmentGroupSources
                        WHERE assignmentGroupSources.assignmentGroupId = assignmentGroups.id
                        ) AS inSources, (SELECT
                        GROUP_CONCAT(IF(assignmentGroupSources.equals, NULL, assignmentGroupSources.marketingSource) SEPARATOR '||') AS notSources
                        FROM assignmentGroupSources
                        WHERE assignmentGroupSources.assignmentGroupId = assignmentGroups.id
                        ) AS notSources, (SELECT
                        GROUP_CONCAT(IF(assignmentGroupFirstDrawLenders.equals, assignmentGroupFirstDrawLenders.pppFirstDrawLender, NULL)) AS inFirstDrawLenders
                        FROM assignmentGroupFirstDrawLenders
                        WHERE assignmentGroupFirstDrawLenders.assignmentGroupId = assignmentGroups.id
                        ) AS inFirstDrawLenders, (SELECT
                        GROUP_CONCAT(IF(assignmentGroupFirstDrawLenders.equals, NULL, assignmentGroupFirstDrawLenders.pppFirstDrawLender)) AS notirstDrawLenders
                        FROM assignmentGroupFirstDrawLenders
                        WHERE assignmentGroupFirstDrawLenders.assignmentGroupId = assignmentGroups.id
                        ) AS notFirstDrawLenders, (SELECT
                        GROUP_CONCAT(IF(assignmentGroupTimezones.equals, assignmentGroupTimezones.timezone, NULL)) AS inTimezones
                        FROM assignmentGroupTimezones
                        WHERE assignmentGroupTimezones.assignmentGroupId = assignmentGroups.id
                        ) AS inTimezones, (SELECT
                        GROUP_CONCAT(IF(assignmentGroupTimezones.equals, NULL, assignmentGroupTimezones.timezone)) AS notTimezones
                        FROM assignmentGroupTimezones
                        WHERE assignmentGroupTimezones.assignmentGroupId = assignmentGroups.id
                        ) AS notTimezones from `assignmentGroups` inner join (SELECT * FROM assignmentGroupLenders
                                UNION
                                SELECT * FROM assignmentGroupTeams) AS groupLendersOrTeams on `assignmentGroups`.`id` = `groupLendersOrTeams`.`assignmentGroupId` where `assignmentGroups`.`paused` is null and `assignmentGroups`.`deleted` is null\G

# Query 5: 0.07 QPS, 0.00x concurrency, ID 0x1771AB0DB03C3F8C89E347479A399A33 at byte 854499
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:30
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          3     242
# Exec time      0   293ms   829us     2ms     1ms     1ms   170us     1ms
# Lock time      0    26ms    15us   158us   109us   125us    11us   108us
# Rows sent      1   7.00k       6      35   29.60   34.95    5.61   30.19
# Rows examine   1  81.76k      94     682  345.98  511.45  109.19  346.17
# Query size    12 422.32k   1.75k   1.75k   1.75k   1.75k       0   1.75k
# String:
# Databases    optimus
# Hosts        10.101.106.53 (42/17%), 10.101.107.219 (36/14%)... 9 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  #####
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerValues'\G
#    SHOW CREATE TABLE `optimus`.`borrowerValues`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerAttributes'\G
#    SHOW CREATE TABLE `optimus`.`borrowerAttributes`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerValues'\G
#    SHOW CREATE TABLE `optimus`.`borrowerValues`\G
# EXPLAIN /*!50100 PARTITIONS*/
select `borrowerValues`.`id`, `borrowerAttributes`.`alias`, `borrowerAttributes`.`name`, `borrowerAttributes`.`shortName`, `borrowerAttributes`.`type`, `borrowerAttributes`.`options`, `borrowerAttributes`.`group`, `borrowerValues`.`value`, `borrowerValues`.`created`, `borrowerValues`.`modified` from `borrowerValues` inner join `borrowerAttributes` on `borrowerAttributes`.`id` = `attributeId` inner join 
                (
                    SELECT attributeId, MAX(modified) AS modified
                    FROM borrowerValues
                    WHERE borrowerId = 4013647
                    GROUP BY attributeId
                ) AS lastModified
             on `borrowerValues`.`attributeId` = `lastModified`.`attributeId` and `borrowerValues`.`modified` = `lastModified`.`modified` where `borrowerId` = 4013647 and (`borrowerValues`.`documentId` is null or `borrowerValues`.`documentId` = 0) and `borrowerAttributes`.`alias` in ('average_monthly_sales', 'hasBusinessDebt', 'ownerBirthDate', 'owner_street_address', 'owner_street_address_', 'annual_personal_income', 'percentOwnership', 'date_signed', 'doingBusinessAsName', 'lendioIndustry', 'business_start_date', 'entity_type', 'financeAmount', 'loanPurpose', 'acceptsCredit', 'beneficiaryOwners', 'managingPartners', 'annualRevenue', 'totaledSalesAmountAvg3Month', 'business_location_type'/*... omitted 22 items ...*/)\G

# Query 6: 0.05 QPS, 0.00x concurrency, ID 0x1D1F58DF0661682C63580ABA09CDB4B9 at byte 260135
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:25 to 2022-07-06T20:09:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2     167
# Exec time      0   255ms   809us     9ms     2ms     3ms     1ms     1ms
# Lock time      0    20ms    90us   159us   121us   138us    15us   119us
# Rows sent      0      20       0       1    0.12    0.99    0.32       0
# Rows examine   1  47.87k       1   4.92k  293.52  874.75  606.13  118.34
# Query size    22 772.37k   4.62k   4.62k   4.62k   4.49k       0   4.49k
# String:
# Databases    optimus
# Hosts        10.101.103.20 (25/14%), 10.101.108.244 (24/14%)... 9 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ########################
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowers'\G
#    SHOW CREATE TABLE `optimus`.`borrowers`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'deals'\G
#    SHOW CREATE TABLE `optimus`.`deals`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'applications'\G
#    SHOW CREATE TABLE `optimus`.`applications`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'offers'\G
#    SHOW CREATE TABLE `optimus`.`offers`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'activities'\G
#    SHOW CREATE TABLE `optimus`.`activities`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'calls'\G
#    SHOW CREATE TABLE `optimus`.`calls`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'chats'\G
#    SHOW CREATE TABLE `optimus`.`chats`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT
                   b.id AS borrowerId,
                   b.status AS borrowerStatus,
                   d.id AS firstFundedDealId,
                   IFNULL(dm1.id,d.id) AS latestFundedDealId,
                   d.dateClosed AS firstFundedDealDate,
                   IF(dm1.dateClosed IS NOT NULL AND dm1.dateClosed != '0000-00-00 00:00:00',
                      dm1.dateClosed,
                      d.dateClosed
                      ) AS latestFundedDealDate,
                   IF(dm1.id IS NOT NULL, 1,0) AS hasOtherFundedDeal,
                   IF(dm1.termCompletePercentage IS NOT NULL,
                   dm1.termCompletePercentage, d.termCompletePercentage) AS latestDealTermComplete,
                   latestContract,
                   latestOfferReceived,
                   latestOfferReceivedDealId,
                   latestAppSubmitted,
                   latestContacted,
                   latestCall,
                   latestChat
                FROM borrowers b
                #initial deal which is the oldest
                INNER JOIN deals d
                   ON  d.borrowerId = b.id
                   AND d.stage = 'funded'
                   AND d.dateClosed IS NOT NULL
                   AND d.deleted IS NULL
                   AND d.termCompletePercentage >= 50
                   AND b.id IN (848669)
                # latest funded deal AFTER intial funded deal aka deals query up above
                LEFT JOIN deals dm1
                   ON  dm1.borrowerId = b.id
                   AND dm1.stage = 'funded'
                   AND dm1.dateClosed IS NOT NULL
                   AND dm1.deleted IS NULL
                   AND dm1.id <> d.id
                # checks against the previous lefjoin makeing sure we have the latest funded deal if present
                LEFT JOIN deals dm2 #deal max 2
                   ON dm2.borrowerId = d.borrowerId
                   AND dm2.stage = 'funded'
                   AND dm2.dateClosed IS NOT NULL
                   AND dm2.deleted IS NULL
                   AND dm2.id <> dm1.id
                   AND dm2.dateClosed > dm1.dateClosed
                # latest activities made by any deal
                LEFT OUTER JOIN (
                   SELECT
                      d3.borrowerId, o.dealId as latestOfferReceivedDealId,
                      GROUP_CONCAT(DISTINCT d3.status) AS latestContract,
                      MAX(IFNULL(o.received,o.created)) AS latestOfferReceived,
                      MAX(a.created) AS latestAppSubmitted
                   FROM deals d3
                   LEFT OUTER JOIN applications a ON d3.id = a.dealId
                   LEFT OUTER JOIN offers o
                      ON d3.id = o.dealId
                      AND o.deleted IS NULL
                      AND o.declined IS NULL
                      AND o.borrowerDeclined IS NULL
                      AND o.declinedByUserId IS NULL
                   WHERE d3.stage NOT IN ('inactive')
                   AND d3.borrowerId IN (848669)
                   AND d3.lenderId = 44566
                   AND d3.deleted IS NULL
                   GROUP BY d3.borrowerId
                   ) d3 ON b.id = d3.borrowerId
                # activities sub-query
                LEFT OUTER JOIN (
                   SELECT a.borrowerId, MAX(a.created) AS latestContacted
                   FROM activities a
                   WHERE a.type IN ('call','chat','message', 'sms')
                   AND a.subType = 'incoming'
                   AND a.borrowerId IN (848669)
                   GROUP BY a.borrowerId
                   ) a ON b.id = a.borrowerId
                # calls sub-query
                LEFT OUTER JOIN (
                   SELECT c.borrowerId, MAX(c.created) AS latestCall
                   FROM calls c
                   WHERE c.borrowerId IN (848669)
                   AND (c.duration >= '120' OR c.disposition = 'Made Contact.')
                   GROUP BY c.borrowerId
                   ) c ON c.borrowerId = b.id
                # chats sub-query
                LEFT OUTER JOIN (
                   SELECT ch.borrowerId, MAX(ch.created) AS latestChat
                   FROM chats ch
                   WHERE ch.borrowerId IN (848669)
                   AND ch.from = 'client'
                   AND ch.deleted IS NULL
                   GROUP BY ch.borrowerId
                ) ch ON ch.borrowerId = b.id
                # main query checks
                INNER JOIN offers o ON o.id = d.acceptedOfferId
                WHERE b.deleted IS NULL
                AND o.deleted IS NULL
                AND b.stage != 'inactive'
                AND b.id IN (848669)
                AND dm2.id IS NULL
                GROUP BY b.id\G

# Query 7: 0.08 QPS, 0.00x concurrency, ID 0xDB3574B998BE4648C386C9CDE240171D at byte 2836117
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:08:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          4     269
# Exec time      0   252ms   516us     3ms   935us     2ms   363us   799us
# Lock time      0    13ms    33us    83us    48us    60us     8us    47us
# Rows sent      2  15.10k      23     188   57.48  124.25   35.86   42.48
# Rows examine   1  63.73k      94     824  242.61  537.02  158.39  174.84
# Query size     6 209.37k     795     797  796.99  793.42       0  793.42
# String:
# Databases    optimus
# Hosts        10.101.108.244 (43/15%)... 10 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ###########################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerValues'\G
#    SHOW CREATE TABLE `optimus`.`borrowerValues`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerAttributes'\G
#    SHOW CREATE TABLE `optimus`.`borrowerAttributes`\G
# EXPLAIN /*!50100 PARTITIONS*/
select `borrowerValues`.`id`, `borrowerAttributes`.`alias`, `borrowerAttributes`.`name`, `borrowerAttributes`.`shortName`, `borrowerAttributes`.`type`, `borrowerAttributes`.`options`, `borrowerAttributes`.`group`, `borrowerValues`.`value`, `borrowerValues`.`created`, `borrowerValues`.`modified` from `borrowerValues` inner join `borrowerAttributes` on `borrowerAttributes`.`id` = `attributeId` and `borrowerAttributes`.`deleted` is null inner join (select attributeId as maxAtt, max(modified) as maxMod from `borrowerValues` where `borrowerId` = 4078948 group by `attributeId`) as `bvm` on `borrowerValues`.`attributeId` = `bvm`.`maxAtt` and `borrowerValues`.`modified` = `bvm`.`maxMod` where `borrowerId` = 4078948 and (`borrowerValues`.`documentId` is null or `borrowerValues`.`documentId` = 0)\G

# Query 8: 0.05 QPS, 0.00x concurrency, ID 0x37627F1BB500F882C5B3495043621004 at byte 410987
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          3     184
# Exec time      0   244ms   694us     5ms     1ms     2ms   640us     1ms
# Lock time      0    20ms    74us   144us   107us   131us    17us   108us
# Rows sent      0     184       1       1       1       1       0       1
# Rows examine   0  38.42k       2   1.71k  213.84  685.39  268.52  107.34
# Query size    14 501.68k   2.72k   2.73k   2.73k   2.62k       0   2.62k
# String:
# Databases    optimus
# Hosts        10.101.108.244 (30/16%), 10.101.103.20 (26/14%)... 9 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  #########################################
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowers'\G
#    SHOW CREATE TABLE `optimus`.`borrowers`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'deals'\G
#    SHOW CREATE TABLE `optimus`.`deals`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'applications'\G
#    SHOW CREATE TABLE `optimus`.`applications`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'offers'\G
#    SHOW CREATE TABLE `optimus`.`offers`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'activities'\G
#    SHOW CREATE TABLE `optimus`.`activities`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'calls'\G
#    SHOW CREATE TABLE `optimus`.`calls`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'chats'\G
#    SHOW CREATE TABLE `optimus`.`chats`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT
                    b.id,
                    b.stage,
                    CASE
                        WHEN b.stage IN ('inactive') THEN 'all'
                        WHEN d.funded > 0 THEN 'funded'
                        WHEN d.contract LIKE '%contractIn%' THEN 'contractIn'
                        WHEN d.contract LIKE '%contractOut%' THEN 'contractOut'
                        WHEN offer_received IS NOT NULL THEN 'offerReceived'
                        WHEN submitted IS NOT NULL THEN 'appSubmitted'
                        WHEN (a.minContacted IS NOT NULL OR c.minCall IS NOT NULL OR ch.minChat IS NOT NULL) THEN 'contacted'
                        ELSE 'newLeads'
                    END AS 'bucket'
                FROM borrowers b
                LEFT OUTER JOIN (
                    SELECT
                        d.borrowerId,
                        SUM(IF(d.dateClosed IS NOT NULL AND d.stage <> 'inactive',1,0)) AS funded,
                        GROUP_CONCAT(DISTINCT d.status) AS contract,
                        MIN(IFNULL(o.received,o.created)) AS offer_received,
                        MIN(a.created) AS submitted
                    FROM deals d
                    LEFT OUTER JOIN applications a ON d.id = a.dealId
                    LEFT OUTER JOIN offers o ON d.id = o.dealId AND o.deleted IS NULL
                    WHERE (d.stage <> 'inactive' OR d.created >= DATE_SUB(NOW(), INTERVAL 30 DAY))
                    AND d.borrowerId IN (2509082)
                    AND d.lenderId = 44566
                    AND d.deleted IS NULL
                    GROUP BY d.borrowerId
                ) d ON b.id = d.borrowerId
                LEFT OUTER JOIN (
                    SELECT a.borrowerId, MIN(a.created) AS minContacted
                    FROM activities a
                    WHERE a.type IN ('call','chat','message', 'sms')
                    AND a.subType = 'incoming'
                    AND a.borrowerId IN (2509082)
                    GROUP BY a.borrowerId
                ) a ON b.id = a.borrowerId
                LEFT OUTER JOIN (
                    SELECT c.borrowerId, MIN(c.id) AS minCall
                    FROM calls c
                    WHERE c.borrowerId IN (2509082)
                    AND (c.duration >= '120' OR c.disposition = 'Made Contact.')
                    GROUP BY c.borrowerId
                ) c ON c.borrowerId = b.id
                LEFT OUTER JOIN (
                    SELECT ch.borrowerId, MIN(ch.id) AS minChat
                    FROM chats ch
                    WHERE ch.borrowerId IN (2509082)
                    AND ch.from = 'client'
                    AND ch.deleted IS NULL
                    GROUP BY ch.borrowerId
                ) ch ON ch.borrowerId = b.id
                WHERE b.id IN (2509082)\G

# Query 9: 0.14 QPS, 0.00x concurrency, ID 0xA5A443005C9A98E641DF3CD77E204FD2 at byte 2434128
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          8     505
# Exec time      0   190ms   300us   700us   376us   424us    44us   366us
# Lock time      0    13ms    17us    50us    25us    31us     4us    23us
# Rows sent      2  16.71k       0      69   33.89   65.89   32.94       0
# Rows examine   2 110.96k     225     225     225     225       0     225
# Query size     1  66.08k     134     134     134     134       0     134
# String:
# Databases    optimus
# Hosts        10.101.106.53 (86/17%), 10.101.108.244 (73/14%)... 9 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'applicationFieldRequirements'\G
#    SHOW CREATE TABLE `optimus`.`applicationFieldRequirements`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from `applicationFieldRequirements` where (`active` = 1 and `isPPP` = 0) and `applicationFieldRequirements`.`deleted` is null\G

# Query 10: 0.08 QPS, 0.00x concurrency, ID 0x6B783D06A8BA45E076716A866C0BF329 at byte 4438331
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          4     282
# Exec time      0   143ms   352us   799us   507us   626us    72us   467us
# Lock time      0    10ms    25us    55us    34us    42us     4us    31us
# Rows sent      0   1.23k       3       8    4.47    5.75    1.12    3.89
# Rows examine   1  72.77k     208     363  264.23  346.17   56.76  223.14
# Query size     0  24.79k      90      90      90      90       0      90
# String:
# Databases    optimus (254/90%), urls (28/9%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `performance_schema` LIKE 'rds_events_threads_waits_current'\G
#    SHOW CREATE TABLE `performance_schema`.`rds_events_threads_waits_current`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from performance_schema.rds_events_threads_waits_current where command <> 'Sleep'\G

# Query 11: 0.10 QPS, 0.00x concurrency, ID 0xF7E6A33EC4F41F26D5B922F0369E317A at byte 4512073
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          5     350
# Exec time      0   135ms   358us   432us   385us   403us    15us   384us
# Lock time      0     9ms    18us    45us    26us    36us     5us    26us
# Rows sent      1   7.52k      22      22      22      22       0      22
# Rows examine   1  78.61k     230     230     230     230       0     230
# Query size     1  61.87k     181     181     181     181       0     181
# String:
# Databases    optimus
# Hosts        10.101.108.244 (65/18%), 10.101.106.53 (51/14%)... 9 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'cadenceBorrowerFilters'\G
#    SHOW CREATE TABLE `optimus`.`cadenceBorrowerFilters`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from `cadenceBorrowerFilters` where `cadenceBorrowerFilters`.`cadenceId` in (24, 30, 31, 35, 37, 38, 43, 55) and `active` = 1 and `cadenceBorrowerFilters`.`deleted` is null\G

# Query 12: 0.08 QPS, 0.00x concurrency, ID 0xDC61B716964374C612EA8AD0822FA24D at byte 4001168
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:25 to 2022-07-06T20:07:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          4     262
# Exec time      0   128ms   396us   604us   488us   541us    33us   467us
# Lock time      0    23ms    66us   125us    88us   108us    12us    84us
# Rows sent      0     309       0       2    1.18    1.96    0.74    0.99
# Rows examine   0   1.44k       2      14    5.62    7.70    2.22    4.96
# Query size     8 302.40k   1.15k   1.15k   1.15k   1.14k       0   1.14k
# String:
# Databases    optimus
# Hosts        10.101.108.244 (32/12%)... 10 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'trackedCallEvents'\G
#    SHOW CREATE TABLE `optimus`.`trackedCallEvents`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'trackedCallEventCallLegs'\G
#    SHOW CREATE TABLE `optimus`.`trackedCallEventCallLegs`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'callLegs'\G
#    SHOW CREATE TABLE `optimus`.`callLegs`\G
# EXPLAIN /*!50100 PARTITIONS*/
(select `callLegs`.* from `trackedCallEvents` as `tce1` inner join `trackedCallEventCallLegs` as `trackedCallLegsPivot` on `trackedCallLegsPivot`.`trackedCallEventId` = `tce1`.`id` inner join `callLegs` on `callLegs`.`id` = `trackedCallLegsPivot`.`callLegId` left join `trackedCallEventCallLegs` as `disconnectedCallLegsPivot` on `callLegs`.`id` = `disconnectedCallLegsPivot`.`callLegId` left join `trackedCallEvents` as `tce2` on `tce2`.`id` = `disconnectedCallLegsPivot`.`trackedCallEventId` and `tce2`.`fromCallId` = 11794564 where `tce1`.`toCallId` = 11794564 and `callLegs`.`callId` <> 11794564 and `callLegs`.`endTime` is null and `tce1`.`type` in ('merge', 'internal', 'secondary') group by `callLegs`.`id` having MAX(tce2.id) IS NULL) union (select `callLegs`.* from `callLegs` left join `trackedCallEventCallLegs` as `disconnectedCallLegsPivot2` on `callLegs`.`id` = `disconnectedCallLegsPivot2`.`callLegId` left join `trackedCallEvents` as `tce3` on `tce3`.`id` = `disconnectedCallLegsPivot2`.`trackedCallEventId` and `tce3`.`fromCallId` = 11794564 where `callLegs`.`callId` = 11794564 and `callLegs`.`endTime` is null group by `callLegs`.`id` having MAX(tce3.id) IS NULL)\G

# Query 13: 0.08 QPS, 0.00x concurrency, ID 0xA191748092B529B62DFA35879193E5B1 at byte 778625
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:30
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          4     288
# Exec time      0   111ms   340us   467us   385us   403us    20us   366us
# Lock time      0    28ms    69us   138us    97us   113us    12us    98us
# Rows sent      1  12.94k      46      46      46      46       0      46
# Rows examine   0  12.94k      46      46      46      46       0      46
# Query size     1  34.59k     123     123     123     123       0     123
# String:
# Databases    optimus
# Hosts        10.101.108.171 (35/12%), 10.101.103.20 (34/11%)... 9 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `information_schema` LIKE 'columns'\G
#    SHOW CREATE TABLE `information_schema`.`columns`\G
# EXPLAIN /*!50100 PARTITIONS*/
select column_name as `column_name` from information_schema.columns where table_schema = 'optimus' and table_name = 'deals'\G

# Query 14: 0.02 QPS, 0.00x concurrency, ID 0x4BF5F8AB5076D5FDE8358A9F1658A59E at byte 18300
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:08:30
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1      75
# Exec time      0    96ms   515us     5ms     1ms     2ms   622us     1ms
# Lock time      0     4ms    34us    77us    49us    66us     9us    49us
# Rows sent      0     602       2      43    8.03   11.95    5.76    7.70
# Rows examine   0   1.84k       9     129   25.09   38.53   16.86   23.65
# Query size     0  32.95k     390     802  449.92  487.09   56.67  441.81
# String:
# Databases    optimus
# Hosts        10.101.106.53 (13/17%), 10.101.102.9 (8/10%)... 9 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ######################################
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerValues'\G
#    SHOW CREATE TABLE `optimus`.`borrowerValues`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from `borrowerValues` inner join (select max(borrowerValues.modified) as maxMod, `attributeId` as `maxAtt` from `borrowerValues` where `attributeId` in (738, 739, 740, 741, 742, 743, 744, 745, 746, 747, 748, 749, 750, 751, 752, 772, 773, 774, 775, 776, 777, 778, 779, 780, 781, 782, 783, 784, 785, 786, 787, 799, 800, 801, 802, 815, 816, 817, 818, 819, 820, 821, 822) and `borrowerId` = 8603821 group by `attributeId`) as `vmm` on `borrowerValues`.`attributeId` = `vmm`.`maxAtt` and `borrowerValues`.`modified` = `vmm`.`maxMod` where `attributeId` in (738, 739, 740, 741, 742, 743, 744, 745, 746, 747, 748, 749, 750, 751, 752, 772, 773, 774, 775, 776, 777, 778, 779, 780, 781, 782, 783, 784, 785, 786, 787, 799, 800, 801, 802, 815, 816, 817, 818, 819, 820, 821, 822) and `borrowerId` = 8603821\G

# Query 15: 0.02 QPS, 0.00x concurrency, ID 0xBEAC5771158B44E43B4FFB737560240D at byte 16973
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:08:30
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1      72
# Exec time      0    95ms   477us     5ms     1ms     2ms   797us     1ms
# Lock time      0     4ms    35us    76us    50us    60us     7us    49us
# Rows sent      0     615       2      43    8.54   11.95    7.85    7.70
# Rows examine   0   1.88k       9     129   26.68   38.53   22.74   23.65
# Query size     0  32.00k     390     802  455.11  487.09   79.64  441.81
# String:
# Databases    optimus
# Hosts        10.101.106.53 (12/16%), 10.101.103.20 (8/11%)... 9 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ###########################################
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerValues'\G
#    SHOW CREATE TABLE `optimus`.`borrowerValues`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from `borrowerValues` inner join (select max(borrowerValues.modified) as maxMod, `attributeId` as `maxAtt` from `borrowerValues` where `borrowerId` = 7348777 and `attributeId` in (738, 739, 740, 741, 742, 743, 744, 745, 746, 747, 748, 749, 750, 751, 752, 772, 773, 774, 775, 776, 777, 778, 779, 780, 781, 782, 783, 784, 785, 786, 787, 799, 800, 801, 802, 815, 816, 817, 818, 819, 820, 821, 822) group by `attributeId`) as `vmm` on `borrowerValues`.`attributeId` = `vmm`.`maxAtt` and `borrowerValues`.`modified` = `vmm`.`maxMod` where `borrowerId` = 7348777 and `attributeId` in (738, 739, 740, 741, 742, 743, 744, 745, 746, 747, 748, 749, 750, 751, 752, 772, 773, 774, 775, 776, 777, 778, 779, 780, 781, 782, 783, 784, 785, 786, 787, 799, 800, 801, 802, 815, 816, 817, 818, 819, 820, 821, 822)\G

# Query 16: 0.04 QPS, 0.00x concurrency, ID 0x59111495080436F05475C2874B415BE5 at byte 3413648
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:13:29 to 2022-07-06T20:09:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2     128
# Exec time      0    83ms   466us     5ms   651us   799us   391us   541us
# Lock time      0    12ms    52us   165us    91us   144us    32us    73us
# Rows sent      0   2.35k       3      49   18.80   46.83   20.51    3.89
# Rows examine   0   2.35k       3      49   18.80   46.83   20.51    3.89
# Query size     1  67.37k     151   1.24k  538.98   1.20k  503.96  183.58
# String:
# Databases    optimus (121/94%), urls (7/5%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  #
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `INFORMATION_SCHEMA` LIKE 'GLOBAL_STATUS'\G
#    SHOW CREATE TABLE `INFORMATION_SCHEMA`.`GLOBAL_STATUS`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT VARIABLE_NAME, VARIABLE_VALUE FROM INFORMATION_SCHEMA.GLOBAL_STATUS WHERE VARIABLE_NAME IN ( 'COM_DROP_TRIGGER', 'COM_DROP_TABLE', 'AURORADB_SELECT_STMT_DURATION', 'COM_SELECT', 'AURORA_LOCKMGR_MEMORY_USED', 'COM_CREATE_UDF', 'COM_DROP_FUNCTION', 'COM_ALTER_EVENT', 'COM_CREATE_INDEX', 'COM_CREATE_PROCEDURE', 'HANDLER_UPDATE', 'COM_ALTER_TABLE', 'HANDLER_WRITE', 'COM_DELETE_MULTI', 'AURORADB_DELETE_STMT_DURATION', 'COM_TRUNCATE', 'COM_ALTER_SERVER', 'COM_DROP_PROCEDURE', 'COM_CREATE_TABLE', 'COM_CREATE_DB'/*... omitted 32 items ...*/)\G

# Query 17: 0.02 QPS, 0.00x concurrency, ID 0x2CFD59BA2F9841A1E3C6F17A01EEA0BD at byte 1770322
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:25 to 2022-07-06T19:50:26
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      39
# Exec time      0    78ms     2ms     2ms     2ms     2ms    45us     2ms
# Lock time      0     2ms    43us    95us    54us    60us     8us    52us
# Rows sent      3  19.61k     512     527  514.79  511.45       0  511.45
# Rows examine   0  39.21k   1.00k   1.03k   1.01k 1012.63    0.00 1012.63
# Query size     0   5.18k     136     136     136     136       0     136
# String:
# Databases    optimus
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `performance_schema` LIKE 'events_statements_summary_by_digest'\G
#    SHOW CREATE TABLE `performance_schema`.`events_statements_summary_by_digest`\G
# EXPLAIN /*!50100 PARTITIONS*/
select digest, count_star, sum_timer_wait from performance_schema.events_statements_summary_by_digest order by last_seen desc limit 5000\G

# Query 18: 0.05 QPS, 0.00x concurrency, ID 0xCE84F37FDD1D08C97ADCDFF2134D2911 at byte 202599
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:24 to 2022-07-06T20:09:30
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2     170
# Exec time      0    71ms   317us   508us   416us   467us    44us   403us
# Lock time      0     9ms    38us    79us    54us    63us     5us    52us
# Rows sent      0     510       3       3       3       3       0       3
# Rows examine   0     510       3       3       3       3       0       3
# Query size     0  19.26k     116     116     116     116       0     116
# String:
# Databases    optimus (160/94%), urls (10/5%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `information_schema` LIKE 'replica_host_status'\G
#    SHOW CREATE TABLE `information_schema`.`replica_host_status`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT durable_lsn, current_read_point, server_id, last_update_timestamp FROM information_schema.replica_host_status\G

# Query 19: 0.01 QPS, 0.00x concurrency, ID 0xE95137EB718F9D576641043F56CDAE57 at byte 4464165
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:25 to 2022-07-06T20:07:27
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      47
# Exec time      0    61ms     1ms     1ms     1ms     1ms    36us     1ms
# Lock time      0     1ms    19us    34us    26us    31us     4us    25us
# Rows sent      0   3.55k      56     133   77.34  118.34   19.10   72.65
# Rows examine   1  76.97k   1.64k   1.64k   1.64k   1.64k       0   1.64k
# Query size     0  15.69k     319     357  341.85  346.17   13.14  329.68
# String:
# Databases    optimus
# Hosts        10.101.107.219 (7/14%), 10.101.106.53 (6/12%)... 9 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'permissions'\G
#    SHOW CREATE TABLE `optimus`.`permissions`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'rolePermissions'\G
#    SHOW CREATE TABLE `optimus`.`rolePermissions`\G
# EXPLAIN /*!50100 PARTITIONS*/
select `permissions`.*, `rolePermissions`.`roleId` as `pivot_roleId`, `rolePermissions`.`permissionId` as `pivot_permissionId` from `permissions` inner join `rolePermissions` on `permissions`.`id` = `rolePermissions`.`permissionId` where `rolePermissions`.`roleId` in (1, 2, 62, 73, 74, 94, 102, 111, 115, 148, 166, 175) and `permissions`.`deleted` is null\G

# Query 20: 0.02 QPS, 0.00x concurrency, ID 0xAF4ED8A1F2C8E917A823BD0C997A3A3E at byte 2973632
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:25 to 2022-07-06T20:09:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1      68
# Exec time      0    58ms   654us     1ms   858us     1ms   166us   725us
# Lock time      0    10ms   115us   187us   142us   167us    14us   138us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0  15.47k     173     325  232.94  313.99   58.71  183.58
# Query size     0   8.50k     128     128     128     128       0     128
# String:
# Databases    optimus (62/91%), urls (6/8%)
# Hosts        10.101.10.153
# Users        kdavey
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ##########################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `information_schema` LIKE 'processlist'\G
#    SHOW CREATE TABLE `information_schema`.`processlist`\G
set @count = (select count(*) as count from information_schema.processlist where Command not in ('Sleep','Daemon') and Time > 0)\G

# Query 21: 0.02 QPS, 0.00x concurrency, ID 0x2BDBDC5BAEEE76CC1134ED0AF2B40FF9 at byte 2972836
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:25 to 2022-07-06T20:09:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1      69
# Exec time      0    58ms   634us     1ms   845us     1ms   166us   725us
# Lock time      0    12ms   134us   221us   166us   185us    13us   167us
# Rows sent      0       1       0       1    0.01       0    0.12       0
# Rows examine   0  15.66k     173     325  232.46  313.99   58.84  183.58
# Query size     0  15.36k     228     228     228     228       0     228
# String:
# Databases    optimus (65/94%), urls (4/5%)
# Hosts        10.101.10.153
# Users        kdavey
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ##################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `information_schema` LIKE 'processlist'\G
#    SHOW CREATE TABLE `information_schema`.`processlist`\G
# EXPLAIN /*!50100 PARTITIONS*/
select ID,DB,Host,User,Command,Time,left(Info,50) as Query, right(Info,20) as QueryEnd from information_schema.processlist where Command not in ('Binlog Dump','Sleep','Connect','Daemon') and Time > 0 order by time desc limit 300\G

# Query 22: 0.20 QPS, 0.00x concurrency, ID 0x016E593F9DB91E455572A38EA7C8E081 at byte 1795613
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         11     711
# Exec time      0    57ms    60us   121us    80us    93us     8us    76us
# Lock time      0    15ms    14us    42us    21us    28us     4us    19us
# Rows sent      0     711       1       1       1       1       0       1
# Rows examine   0   2.60k       2       6    3.74    5.75    1.80    1.96
# Query size     2  88.93k     126     131  128.08  130.47    2.50  124.25
# String:
# Databases    optimus
# Hosts        10.101.106.53 (110/15%)... 10 more
# Users        greedo
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ###
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerValuesSources'\G
#    SHOW CREATE TABLE `optimus`.`borrowerValuesSources`\G
# EXPLAIN /*!50100 PARTITIONS*/
select `id` from `borrowerValuesSources` where `sourceName` = 'lendio_system' and `borrowerValuesSources`.`deleted` is null limit 1\G

# Query 23: 0.01 QPS, 0.00x concurrency, ID 0x065BB26144892032845C39196CA62A43 at byte 1231646
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:17:29 to 2022-07-06T20:09:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      39
# Exec time      0    45ms     1ms     1ms     1ms     1ms    50us     1ms
# Lock time      0     3ms    56us    99us    73us    80us     9us    73us
# Rows sent      0   2.67k      70      70      70      70       0      70
# Rows examine   0   6.02k     158     158     158     158       0     158
# Query size     0   6.55k     172     172     172     172       0     172
# String:
# Databases    optimus (36/92%), urls (3/7%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `information_schema` LIKE 'rds_metrics_gauge'\G
#    SHOW CREATE TABLE `information_schema`.`rds_metrics_gauge`\G
#    SHOW TABLE STATUS FROM `information_schema` LIKE 'rds_metrics_meta'\G
#    SHOW CREATE TABLE `information_schema`.`rds_metrics_meta`\G
# EXPLAIN /*!50100 PARTITIONS*/
select name, value, visibility from information_schema.rds_metrics_gauge inner join information_schema.rds_metrics_meta on rds_metrics_meta.id = rds_metrics_gauge.metric_id\G

# Query 24: 0.10 QPS, 0.00x concurrency, ID 0x0219FCAED57E10E173A4943AE24A93D1 at byte 3231968
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          5     338
# Exec time      0    35ms    87us   162us   103us   119us     9us    98us
# Lock time      0    14ms    31us   101us    42us    49us     5us    40us
# Rows sent      0   1.65k       5       5       5       5       0       5
# Rows examine   0   1.65k       5       5       5       5       0       5
# Query size     0  20.46k      62      62      62      62       0      62
# String:
# Databases    urls
# Hosts        10.101.102.9
# Users        greedo
# Query_time distribution
#   1us
#  10us  #####################################
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `urls` LIKE 'yourls_options'\G
#    SHOW CREATE TABLE `urls`.`yourls_options`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT option_name, option_value FROM yourls_options WHERE 1=1\G

# Query 25: 0.05 QPS, 0.00x concurrency, ID 0x82025E7A2C8F2715C24EFF2940B79105 at byte 2041743
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:25 to 2022-07-06T20:09:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          3     184
# Exec time      0    33ms   155us   220us   177us   194us    11us   167us
# Lock time      0     5ms    19us    46us    27us    36us     5us    27us
# Rows sent      0   2.47k      13      15   13.75   14.52    0.96   12.54
# Rows examine   0   3.59k      20      20      20      20       0      20
# Query size     0  30.19k     165     173     168  166.51    3.84  158.58
# String:
# Databases    optimus
# Hosts        10.101.108.244 (29/15%)... 10 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'loanProductCategories'\G
#    SHOW CREATE TABLE `optimus`.`loanProductCategories`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from `loanProductCategories` where `loanProductCategories`.`id` in (1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 14, 16, 20) and `loanProductCategories`.`deleted` is null\G

# Query 26: 0.02 QPS, 0.00x concurrency, ID 0x74BE866E0D96DD6B74019868490DE501 at byte 471593
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:25 to 2022-07-06T19:52:26
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      42
# Exec time      0    25ms   550us   631us   586us   596us    18us   568us
# Lock time      0     3ms    56us   105us    73us    84us     8us    69us
# Rows sent      0      42       1       1       1       1       0       1
# Rows examine   0   9.64k     235     235     235     235       0     235
# Query size     0   4.47k     109     109     109     109       0     109
# String:
# Databases    optimus (40/95%), urls (2/4%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `INFORMATION_SCHEMA` LIKE 'INNODB_METRICS'\G
#    SHOW CREATE TABLE `INFORMATION_SCHEMA`.`INNODB_METRICS`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT AS trx_rseg_history_len FROM INFORMATION_SCHEMA.INNODB_METRICS WHERE NAME='trx_rseg_history_len'\G

# Query 27: 0.00 QPS, 0.00x concurrency, ID 0xA92658C20F4F5A7EA56E6023A41CE6A4 at byte 3651877
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:46:28 to 2022-07-06T19:57:28
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       2
# Exec time      0    23ms    11ms    11ms    11ms    11ms    72us    11ms
# Lock time      0   213us    97us   116us   106us   116us    13us   106us
# Rows sent      0     140      70      70      70      70       0      70
# Rows examine   0  21.49k  10.75k  10.75k  10.75k  10.75k       0  10.75k
# Query size     0   2.34k   1.17k   1.17k   1.17k   1.17k       0   1.17k
# String:
# Databases    optimus
# Hosts        10.101.106.53 (1/50%), 10.101.107.219 (1/50%)
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms  ################################################################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'institutions'\G
#    SHOW CREATE TABLE `optimus`.`institutions`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenders'\G
#    SHOW CREATE TABLE `optimus`.`lenders`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'oauth_clients'\G
#    SHOW CREATE TABLE `optimus`.`oauth_clients`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from `institutions` where `id` in (44918, 44894, 1093, 327, 44878, 44278, 44880, 771, 224, 44886, 1106, 711, 44902, 1166, 44260, 855, 45238, 44452, 45474, 34725/*... omitted 110 items ...*/) and exists (select * from `lenders` inner join `oauth_clients` on `oauth_clients`.`user_id` = `lenders`.`id` and `oauth_clients`.`revoked` = '0' where `institutions`.`id` = `lenders`.`institution_id` and `lenders`.`deleted` is null) and `institutions`.`deleted` is null\G

# Query 28: 0.01 QPS, 0.00x concurrency, ID 0x43C0D4B507BFBA091454647A97282904 at byte 3342920
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:17:29 to 2022-07-06T20:09:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      37
# Exec time      0    22ms   571us   658us   606us   626us    21us   596us
# Lock time      0     3ms    69us   100us    83us    89us     7us    80us
# Rows sent      0     111       3       3       3       3       0       3
# Rows examine   0   8.49k     235     235     235     235       0     235
# Query size     0   5.35k     148     148     148     148       0     148
# String:
# Databases    optimus (35/94%), urls (2/5%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `INFORMATION_SCHEMA` LIKE 'INNODB_METRICS'\G
#    SHOW CREATE TABLE `INFORMATION_SCHEMA`.`INNODB_METRICS`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT NAME, COUNT FROM INFORMATION_SCHEMA.INNODB_METRICS WHERE NAME IN ('LOCK_DEADLOCKS', 'LOCK_ROW_LOCK_CURRENT_WAITS', 'TRX_ACTIVE_TRANSACTIONS')\G

# Query 29: 0.02 QPS, 0.00x concurrency, ID 0x50A20A875EF6DFC10D30AF4D67699B3D at byte 2156755
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:25 to 2022-07-06T19:46:25
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      37
# Exec time      0    22ms   563us   643us   597us   626us    23us   568us
# Lock time      0     3ms    62us   119us    74us    84us     9us    69us
# Rows sent      0      37       1       1       1       1       0       1
# Rows examine   0   8.49k     235     235     235     235       0     235
# Query size     0   3.69k     102     102     102     102       0     102
# String:
# Databases    optimus (35/94%), logs (1/2%), urls (1/2%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `INFORMATION_SCHEMA` LIKE 'INNODB_METRICS'\G
#    SHOW CREATE TABLE `INFORMATION_SCHEMA`.`INNODB_METRICS`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT AS innodb_lock_timeouts FROM INFORMATION_SCHEMA.INNODB_METRICS WHERE NAME='lock_timeouts'\G

# Query 30: 0.02 QPS, 0.00x concurrency, ID 0x9241CC6FC789622D68728E9EFC279FAE at byte 738108
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:25 to 2022-07-06T19:45:25
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      36
# Exec time      0    21ms   558us   629us   583us   596us    19us   568us
# Lock time      0     3ms    61us    86us    74us    80us     6us    73us
# Rows sent      0      36       1       1       1       1       0       1
# Rows examine   0   8.26k     235     235     235     235       0     235
# Query size     0   3.48k      99      99      99      99       0      99
# String:
# Databases    optimus (34/94%), logs (1/2%), urls (1/2%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `INFORMATION_SCHEMA` LIKE 'INNODB_METRICS'\G
#    SHOW CREATE TABLE `INFORMATION_SCHEMA`.`INNODB_METRICS`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT AS innodb_deadlocks FROM INFORMATION_SCHEMA.INNODB_METRICS WHERE NAME='lock_deadlocks'\G

# Query 31: 0.02 QPS, 0.00x concurrency, ID 0x780F8793AD28FACD9EE2962AFBAE23D4 at byte 2473894
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:25 to 2022-07-06T19:42:25
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      33
# Exec time      0    20ms   564us   633us   597us   626us    22us   596us
# Lock time      0     2ms    65us    90us    75us    80us     5us    73us
# Rows sent      0      33       1       1       1       1       0       1
# Rows examine   0   7.57k     235     235     235     235       0     235
# Query size     0   3.54k     110     110     110     110       0     110
# String:
# Databases    optimus (31/93%), urls (2/6%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `INFORMATION_SCHEMA` LIKE 'INNODB_METRICS'\G
#    SHOW CREATE TABLE `INFORMATION_SCHEMA`.`INNODB_METRICS`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT AS innodb_row_lock_waits  FROM INFORMATION_SCHEMA.INNODB_METRICS WHERE NAME='lock_row_lock_waits'\G

# Query 32: 0.01 QPS, 0.00x concurrency, ID 0x21F4F48D21731C762974FF7E5891580D at byte 2888119
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:17:29 to 2022-07-06T20:09:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      39
# Exec time      0    18ms   445us   615us   472us   490us    28us   445us
# Lock time      0     3ms    51us    92us    70us    80us     7us    69us
# Rows sent      0   1.68k      44      44      44      44       0      44
# Rows examine   0   5.03k     132     132     132     132       0     132
# Query size     0   7.16k     188     188     188     188       0     188
# String:
# Databases    optimus (36/92%), urls (3/7%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `information_schema` LIKE 'rds_metrics_counter'\G
#    SHOW CREATE TABLE `information_schema`.`rds_metrics_counter`\G
#    SHOW TABLE STATUS FROM `information_schema` LIKE 'rds_metrics_meta'\G
#    SHOW CREATE TABLE `information_schema`.`rds_metrics_meta`\G
# EXPLAIN /*!50100 PARTITIONS*/
select name, count_since_reset, visibility from information_schema.rds_metrics_counter inner join information_schema.rds_metrics_meta on rds_metrics_meta.id = rds_metrics_counter.metric_id\G

# Query 33: 0.03 QPS, 0.00x concurrency, ID 0xD60F341D1C11FE9FD909BB82BFA70764 at byte 3629132
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:25 to 2022-07-06T20:09:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1     114
# Exec time      0    18ms   139us   188us   157us   167us     9us   152us
# Lock time      0     3ms    17us    37us    25us    33us     4us    25us
# Rows sent      0   2.12k      19      19      19      19       0      19
# Rows examine   0   2.23k      20      20      20      20       0      20
# Query size     0   9.46k      85      85      85      85       0      85
# String:
# Databases    optimus
# Hosts        10.101.108.244 (19/16%)... 10 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'loanProductCategories'\G
#    SHOW CREATE TABLE `optimus`.`loanProductCategories`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from `loanProductCategories` where `loanProductCategories`.`deleted` is null\G

# Query 34: 0.06 QPS, 0.00x concurrency, ID 0x2D172C39A40AD05F4F8F19E8B49E5277 at byte 3373162
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:24 to 2022-07-06T20:09:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          3     210
# Exec time      0    18ms    71us   110us    85us    98us     6us    80us
# Lock time      0     4ms    11us    32us    18us    23us     3us    17us
# Rows sent      0   3.90k      19      19      19      19       0      19
# Rows examine   0   4.10k      20      20      20      20       0      20
# Query size     0  22.15k     108     108     108     108       0     108
# String:
# Databases    optimus
# Hosts        10.101.106.53 (33/15%), 10.101.103.20 (27/12%)... 9 more
# Users        greedo
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ####
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'loanProductCategories'\G
#    SHOW CREATE TABLE `optimus`.`loanProductCategories`\G
# EXPLAIN /*!50100 PARTITIONS*/
select `id`, "category" AS type from `loanProductCategories` where `loanProductCategories`.`deleted` is null\G

# Query 35: 0.00 QPS, 0.00x concurrency, ID 0xF43094D6B8515CADA726D34CE14DB2A5 at byte 3823758
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:13:27 to 2022-07-06T19:59:28
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       7
# Exec time      0    16ms   306us     4ms     2ms     4ms     2ms     3ms
# Lock time      0   417us    48us    70us    59us    69us     6us    57us
# Rows sent      0       7       1       1       1       1       0       1
# Rows examine   0   8.08k       1   2.16k   1.15k   2.06k  995.31   1.86k
# Query size     0   1.64k     240     240     240     240       0     240
# String:
# Databases    optimus
# Hosts        10.101.108.171 (5/71%), 10.101.106.108 (2/28%)
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'requests'\G
#    SHOW CREATE TABLE `optimus`.`requests`\G
# EXPLAIN /*!50100 PARTITIONS*/
select count(*) as aggregate from (select * from `requests` where `dealId` = 2671795 and `requests`.`deleted` is null group by `requests`.`dealId` having SUM(IF(requests.status = "delivered", 1, 0)) = COUNT(requests.dealId)) as `temp_table`\G

# Query 36: 0.01 QPS, 0.00x concurrency, ID 0x3ADA98D0F87BED52AFEFB689099BD4A6 at byte 1372169
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:17:29 to 2022-07-06T20:09:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      35
# Exec time      0    15ms   376us   534us   439us   490us    40us   424us
# Lock time      0     3ms    60us   217us    71us    76us    25us    66us
# Rows sent      0      35       1       1       1       1       0       1
# Rows examine   0     105       3       3       3       3       0       3
# Query size     0   5.09k     149     149     149     149       0     149
# String:
# Databases    optimus (33/94%), urls (2/5%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `INFORMATION_SCHEMA` LIKE 'REPLICA_HOST_STATUS'\G
#    SHOW CREATE TABLE `INFORMATION_SCHEMA`.`REPLICA_HOST_STATUS`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT MIN(REPLICA_LAG_IN_MILLISECONDS), MAX(REPLICA_LAG_IN_MILLISECONDS) FROM INFORMATION_SCHEMA.REPLICA_HOST_STATUS WHERE SERVER_ID != 'production'\G

# Query 37: 0.01 QPS, 0.00x concurrency, ID 0x77BC67EFC50C69B8E4C12104332BAC0C at byte 2269715
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:13:26 to 2022-07-06T20:09:27
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      36
# Exec time      0    13ms   323us   382us   352us   366us    13us   348us
# Lock time      0     1ms    21us    54us    30us    40us     6us    28us
# Rows sent      0   2.21k      63      63      63      63       0      63
# Rows examine   0   6.79k     193     193     193     193       0     193
# Query size     0   7.45k     212     212     212     212       0     212
# String:
# Databases    optimus
# Hosts        10.101.100.212 (6/16%), 10.101.108.244 (6/16%)... 8 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'deadDispositions'\G
#    SHOW CREATE TABLE `optimus`.`deadDispositions`\G
# EXPLAIN /*!50100 PARTITIONS*/
select `status`, `reason` from `deadDispositions` where (`type` = 'deal' or `type` = 'pppDeal') and id NOT IN (202, 194, 195, 197, 198, 200, 209, 204) and `deadDispositions`.`deleted` is null order by `order` asc\G

# Query 38: 0.00 QPS, 0.00x concurrency, ID 0xD96B42A584F1D0EE6484F56B803F42CC at byte 47405
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:25 to 2022-07-06T19:38:25
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       5
# Exec time      0    11ms     2ms     2ms     2ms     2ms    77us     2ms
# Lock time      0   195us    31us    47us    39us    44us     5us    36us
# Rows sent      0     574     101     127  114.80  124.25    9.24  112.70
# Rows examine   0   2.72k     543     569  556.80  563.87   10.74  537.02
# Query size     0   1.67k     342     342     342     342       0     342
# String:
# Databases    optimus
# Hosts        10.101.108.244 (2/40%), 10.101.100.212 (1/20%)... 2 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerAttributes'\G
#    SHOW CREATE TABLE `optimus`.`borrowerAttributes`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerValues'\G
#    SHOW CREATE TABLE `optimus`.`borrowerValues`\G
# EXPLAIN /*!50100 PARTITIONS*/
select `borrowerAttributes`.*, `borrowerValues`.`borrowerId` as `pivot_borrowerId`, `borrowerValues`.`attributeId` as `pivot_attributeId` from `borrowerAttributes` inner join `borrowerValues` on `borrowerAttributes`.`id` = `borrowerValues`.`attributeId` where `borrowerValues`.`borrowerId` = 8742146 and `borrowerAttributes`.`deleted` is null\G

# Query 39: 0.00 QPS, 0.00x concurrency, ID 0x0CC24DC7D6378A0DF6FAAD145317E3F5 at byte 868123
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:28 to 2022-07-06T20:08:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       4
# Exec time      0     9ms   297us     7ms     2ms     7ms     3ms     4ms
# Lock time      0   271us    54us    78us    67us    76us     9us    73us
# Rows sent      0       4       1       1       1       1       0       1
# Rows examine   0   4.17k       0   3.58k   1.04k   3.52k   1.45k   2.01k
# Query size     0   2.84k     711     739  726.50  719.66      14  719.66
# String:
# Databases    optimus
# Hosts        10.101.100.212 (1/25%), 10.101.102.9 (1/25%)... 2 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'deals'\G
#    SHOW CREATE TABLE `optimus`.`deals`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowers'\G
#    SHOW CREATE TABLE `optimus`.`borrowers`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'applications'\G
#    SHOW CREATE TABLE `optimus`.`applications`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderDealLabels'\G
#    SHOW CREATE TABLE `optimus`.`lenderDealLabels`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderLabels'\G
#    SHOW CREATE TABLE `optimus`.`lenderLabels`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderUserDeals'\G
#    SHOW CREATE TABLE `optimus`.`lenderUserDeals`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS 'new-apps' FROM (select DISTINCT d.id from `deals` as `d` inner join `borrowers` as `b` on `b`.`id` = `d`.`borrowerId` inner join `applications` as `a` on `d`.`id` = `a`.`dealId` left join `lenderDealLabels` as `ldl` on `ldl`.`dealId` = `d`.`id` and `ldl`.`deleted` is null left join `lenderLabels` as `ll` on `ll`.`id` = `ldl`.`lenderLabelId` and `ll`.`deleted` is null left join `lenderUserDeals` as `lud` on `lud`.`dealId` = `d`.`id` and `lud`.`deleted` is null where `a`.`deleted` is null and `b`.`deleted` is null and `d`.`deleted` is null and `d`.`loanProductLenderId` = 46631 and (`d`.`type` <> 'draw' or `d`.`type` is null) and `d`.`status` in ('appComplete', 'awaitingResponse', 'pendingFundingManager')) AS `a`\G

# Query 40: 0.02 QPS, 0.00x concurrency, ID 0x9CCC4A9213C95A05D4C2FE378B8F6D8E at byte 3267908
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:26 to 2022-07-06T20:08:30
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1      68
# Exec time      0     9ms   119us   168us   136us   152us    10us   131us
# Lock time      0     2ms    18us    45us    25us    36us     6us    23us
# Rows sent      0     340       5       5       5       5       0       5
# Rows examine   0     408       6       6       6       6       0       6
# Query size     0   8.30k     125     125     125     125       0     125
# String:
# Databases    optimus
# Hosts        10.101.108.244 (11/16%)... 10 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'loanProductGroups'\G
#    SHOW CREATE TABLE `optimus`.`loanProductGroups`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from `loanProductGroups` where `loanProductGroups`.`id` in (1, 2, 3, 4, 5) and `loanProductGroups`.`deleted` is null\G

# Query 41: 0.00 QPS, 0.00x concurrency, ID 0x7758605DB447D85CD4C2D5E54EC2A07B at byte 867413
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:28 to 2022-07-06T20:08:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       5
# Exec time      0     9ms   291us     5ms     2ms     5ms     2ms     1ms
# Lock time      0   266us    44us    66us    53us    63us     7us    49us
# Rows sent      0       5       1       1       1       1       0       1
# Rows examine   0   3.34k       0   2.26k  683.80   2.16k  815.66  313.99
# Query size     0   2.44k     481     509     499  487.09   11.36  487.09
# String:
# Databases    optimus
# Hosts        10.101.100.212 (1/20%), 10.101.102.9 (1/20%)... 3 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ##########################################
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'deals'\G
#    SHOW CREATE TABLE `optimus`.`deals`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowers'\G
#    SHOW CREATE TABLE `optimus`.`borrowers`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'applications'\G
#    SHOW CREATE TABLE `optimus`.`applications`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'institutions'\G
#    SHOW CREATE TABLE `optimus`.`institutions`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS 'new-apps' FROM (select DISTINCT d.id from `deals` as `d` inner join `borrowers` as `b` on `b`.`id` = `d`.`borrowerId` inner join `applications` as `a` on `d`.`id` = `a`.`dealId` inner join `institutions` as `i` on `i`.`id` = `d`.`loanProductLenderId` and `i`.`id` = 46631 where `a`.`deleted` is null and `b`.`deleted` is null and `d`.`deleted` is null and (`d`.`type` <> 'draw' or `d`.`type` is null) and `d`.`status` in ('appComplete', 'awaitingResponse', 'pendingFundingManager')) AS `a`\G

# Query 42: 0.00 QPS, 0.00x concurrency, ID 0x6DDEFDC736E0ECE37A27AFA07346819F at byte 3383159
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:25:31 to 2022-07-06T20:02:27
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      10
# Exec time      0     9ms   755us     1ms   890us     1ms   137us   839us
# Lock time      0   403us    35us    54us    40us    47us     6us    38us
# Rows sent      0     592      47      92   59.20   88.31   15.79   49.17
# Rows examine   0   2.38k     192     384  243.60  381.65   74.43  192.76
# Query size     0   7.72k     791     791     791     791       0     791
# String:
# Databases    optimus
# Hosts        10.101.102.9 (2/20%), 10.101.106.108 (2/20%)... 3 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerValues'\G
#    SHOW CREATE TABLE `optimus`.`borrowerValues`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerAttributes'\G
#    SHOW CREATE TABLE `optimus`.`borrowerAttributes`\G
# EXPLAIN /*!50100 PARTITIONS*/
select `borrowerValues`.`id`, `borrowerAttributes`.`alias`, `borrowerAttributes`.`name`, `borrowerAttributes`.`shortName`, `borrowerAttributes`.`type`, `borrowerAttributes`.`options`, `borrowerAttributes`.`group`, `borrowerValues`.`value`, `borrowerValues`.`created`, `borrowerValues`.`modified`, `borrowerValues`.`documentId`, `borrowerAttributes`.`id` as `attributeId` from `borrowerValues` inner join `borrowerAttributes` on `borrowerAttributes`.`id` = `attributeId` and `borrowerAttributes`.`deleted` is null inner join (select attributeId as maxAtt, max(modified) as maxMod from `borrowerValues` where `borrowerId` = 8512945 group by `attributeId`) as `bvm` on `borrowerValues`.`attributeId` = `bvm`.`maxAtt` and `borrowerValues`.`modified` = `bvm`.`maxMod` where `borrowerId` = 8512945\G

# Query 43: 0.02 QPS, 0.00x concurrency, ID 0x2A60BF4F0B360E43B8B7E6B77BD460C4 at byte 3421337
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:26 to 2022-07-06T20:00:26
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      50
# Exec time      0     7ms   109us   185us   145us   176us    18us   138us
# Lock time      0     3ms    44us    78us    58us    69us     9us    57us
# Rows sent      0      50       1       1       1       1       0       1
# Rows examine   0      32       0       3    0.64    1.96    0.85       0
# Query size     0   3.61k      74      74      74      74       0      74
# String:
# Databases    optimus
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `INFORMATION_SCHEMA` LIKE 'INNODB_TRX'\G
#    SHOW CREATE TABLE `INFORMATION_SCHEMA`.`INNODB_TRX`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(1) AS active_transactions  FROM INFORMATION_SCHEMA.INNODB_TRX\G

# Query 44: 0.01 QPS, 0.00x concurrency, ID 0xF9052B8F97921B2D8B4F97260AC00A50 at byte 2887798
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:17:29 to 2022-07-06T20:09:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      40
# Exec time      0     7ms   142us   187us   163us   176us    11us   159us
# Lock time      0     3ms    65us    91us    75us    84us     6us    73us
# Rows sent      0      40       1       1       1       1       0       1
# Rows examine   0      40       1       1       1       1       0       1
# Query size     0   4.84k     124     124     124     124       0     124
# String:
# Databases    optimus (36/90%), urls (4/10%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `information_schema` LIKE 'TABLES'\G
#    SHOW CREATE TABLE `information_schema`.`TABLES`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT count(*) from information_schema.TABLES WHERE TABLE_SCHEMA = 'information_schema' AND TABLE_NAME = 'RDS_METRICS_META'\G

# Query 45: 0.00 QPS, 0.00x concurrency, ID 0x6AA79C15F6E638ED097EC3C693ED3DDE at byte 2740840
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:22:25 to 2022-07-06T20:08:27
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       6
# Exec time      0     4ms   523us   863us   630us   839us   114us   629us
# Lock time      0   534us    72us   106us    89us   103us    11us    93us
# Rows sent      0       2       0       2    0.33    1.96    0.73       0
# Rows examine   0     583      81     149   97.17  143.84   23.89   80.10
# Query size     0  16.62k   2.77k   2.77k   2.77k   2.77k       0   2.77k
# String:
# Databases    optimus
# Hosts        10.101.103.20 (3/50%), 10.101.102.9 (1/16%)... 2 more
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderUserHasLenderPortalNotifications'\G
#    SHOW CREATE TABLE `optimus`.`lenderUserHasLenderPortalNotifications`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderUserDeals'\G
#    SHOW CREATE TABLE `optimus`.`lenderUserDeals`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderUserHasLenderPortalNotifications'\G
#    SHOW CREATE TABLE `optimus`.`lenderUserHasLenderPortalNotifications`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id`,`email`,`first`,`name`,`dealId`,`loanType`,`borrowerName`,`institution_id`
            FROM (
                SELECT u.id, u.email, u.first, u.first as name, d.id as 'dealId', lpc.shortName as 'loanType', b.name as borrowerName, l.institution_id,
                    CASE
                        WHEN (`calpn`.`label` IS NULL AND `crlpn`.`label` IS NULL AND `plhlpn`.`lenderUserId` IS NOT NULL) THEN 1 -- the lenderPortalNotification has no child and the user wants this notification
                        WHEN (`lud`.`lenderUserId` IS NOT NULL AND `rlhlpn`.`lenderUserId` IS NOT NULL) THEN 1 -- the user is assigned to the deal and they have indicated they want these notifications for their deals only
                        WHEN `alhlpn`.`lenderUserId` IS NOT NULL THEN 1 -- the user is not assigned to this deal but they want these notifications for all deals
                        ELSE 0 -- the user doesn't meet any situation where they want this notification
                    END AS `shouldSendTo`
                FROM users u
                JOIN lenders l ON l.id = u.id
                JOIN institutions i ON i.id = l.institution_id
                JOIN deals d ON d.loanProductLenderId = i.id
                JOIN borrowers b ON b.id = d.borrowerId
                JOIN loanProductCategories lpc ON d.loanProductCategoryId = lpc.id
                JOIN lenderPortalNotifications AS plpn ON LOWER(plpn.value) = LOWER('newApp')
                JOIN `userPermissions` AS `up` ON `up`.`userId` =  `u`.`id`
                LEFT JOIN lenderPortalNotifications AS calpn ON calpn.dependsOnId = plpn.id
                    AND `calpn`.`label` = 'All'
                LEFT JOIN lenderPortalNotifications AS crlpn ON crlpn.dependsOnId = plpn.id
                    AND `crlpn`.`label` <> 'All'
                LEFT JOIN lenderUserHasLenderPortalNotifications AS alhlpn ON alhlpn.lenderUserId = l.id
                    AND alhlpn.lenderPortalNotificationId = calpn.id
                    AND alhlpn.lenderUserId = l.id
                LEFT JOIN lenderUserHasLenderPortalNotifications AS rlhlpn ON rlhlpn.lenderUserId = l.id
                    AND rlhlpn.lenderPortalNotificationId = crlpn.id
                    AND rlhlpn.lenderUserId = l.id
                LEFT JOIN `lenderUserDeals` AS `lud` ON `lud`.`dealId` = `d`.`id`
                    AND `lud`.`lenderUserId` = `u`.`id`
                    AND `lud`.`deleted` IS NULL
                LEFT JOIN `lenderUserHasLenderPortalNotifications` AS `plhlpn` ON `plhlpn`.`lenderPortalNotificationId` = `plpn`.`id`
                    AND `plhlpn`.`lenderuserId` = `l`.`id`
                WHERE d.id = 2720553
                    AND `up`.`permissionId` = 501
                    AND d.deleted IS NULL
            ) AS `der`
            WHERE `der`.`shouldSendTo` = 1\G

# Query 46: 0 QPS, 0x concurrency, ID 0x9CAB5EF422459C4A2210012A09B19EDD at byte 1844436
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: all events occurred at 2022-07-06T19:34:26
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       1
# Exec time      0     4ms     4ms     4ms     4ms     4ms       0     4ms
# Lock time      0    53us    53us    53us    53us    53us       0    53us
# Rows sent      0     802     802     802     802     802       0     802
# Rows examine   0     967     967     967     967     967       0     967
# Query size     0     115     115     115     115     115       0     115
# String:
# Databases    optimus
# Hosts        10.101.100.212
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'affiliates'\G
#    SHOW CREATE TABLE `optimus`.`affiliates`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from `affiliates` where `displayAsLeadSource` = 1 and `deleted` is null and `affiliates`.`deleted` is null\G

# Query 47: 0 QPS, 0x concurrency, ID 0x6AAB98BC4A6DE057AC9A369BC9023532 at byte 1360768
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: all events occurred at 2022-07-06T19:27:28
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       1
# Exec time      0     3ms     3ms     3ms     3ms     3ms       0     3ms
# Lock time      0    51us    51us    51us    51us    51us       0    51us
# Rows sent      0       1       1       1       1       1       0       1
# Rows examine   0   1.41k   1.41k   1.41k   1.41k   1.41k       0   1.41k
# Query size     0     909     909     909     909     909       0     909
# String:
# Databases    optimus
# Hosts        10.101.106.53
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'deals'\G
#    SHOW CREATE TABLE `optimus`.`deals`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowers'\G
#    SHOW CREATE TABLE `optimus`.`borrowers`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'applications'\G
#    SHOW CREATE TABLE `optimus`.`applications`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderDealLabels'\G
#    SHOW CREATE TABLE `optimus`.`lenderDealLabels`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderLabels'\G
#    SHOW CREATE TABLE `optimus`.`lenderLabels`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderUserDeals'\G
#    SHOW CREATE TABLE `optimus`.`lenderUserDeals`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerWalleReady'\G
#    SHOW CREATE TABLE `optimus`.`borrowerWalleReady`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'sbaStatus'\G
#    SHOW CREATE TABLE `optimus`.`sbaStatus`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS 'new-apps' FROM (select DISTINCT d.id from `deals` as `d` inner join `borrowers` as `b` on `b`.`id` = `d`.`borrowerId` inner join `applications` as `a` on `d`.`id` = `a`.`dealId` left join `lenderDealLabels` as `ldl` on `ldl`.`dealId` = `d`.`id` and `ldl`.`deleted` is null left join `lenderLabels` as `ll` on `ll`.`id` = `ldl`.`lenderLabelId` and `ll`.`deleted` is null left join `lenderUserDeals` as `lud` on `lud`.`dealId` = `d`.`id` and `lud`.`deleted` is null left join `borrowerWalleReady` on `borrowerWalleReady`.`borrowerId` = `b`.`id` left join `sbaStatus` on `sbaStatus`.`dealId` = `d`.`id` and `sbaStatus`.`deleted` is null where `a`.`deleted` is null and `b`.`deleted` is null and `d`.`deleted` is null and `d`.`loanProductLenderId` = 46033 and (`d`.`type` <> 'draw' or `d`.`type` is null) and `d`.`status` in ('appComplete', 'awaitingResponse', 'pendingFundingManager')) AS `a`\G

# Query 48: 0.01 QPS, 0.00x concurrency, ID 0x494AB597240AFB8F4DBC21CD47CB2E67 at byte 544763
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:24 to 2022-07-06T19:23:24
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       7
# Exec time      0     3ms   396us   430us   414us   424us    16us   403us
# Lock time      0   420us    52us    65us    60us    63us     4us    60us
# Rows sent      0       7       1       1       1       1       0       1
# Rows examine   0   7.18k   1.03k   1.03k   1.03k   1.03k       0   1.03k
# Query size     0     714     102     102     102     102       0     102
# String:
# Databases    optimus (5/71%), urls (2/28%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `performance_schema` LIKE 'setup_instruments'\G
#    SHOW CREATE TABLE `performance_schema`.`setup_instruments`\G
# EXPLAIN /*!50100 PARTITIONS*/
select count(*) from performance_schema.setup_instruments where name like 'wait%' and enabled <> 'YES'\G

# Query 49: 0 QPS, 0x concurrency, ID 0x01C30E58A33CFD7BA889A1C8CC217457 at byte 3551552
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: all events occurred at 2022-07-06T19:55:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       1
# Exec time      0     2ms     2ms     2ms     2ms     2ms       0     2ms
# Lock time      0    70us    70us    70us    70us    70us       0    70us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0     286     286     286     286     286       0     286
# Query size     0     923     923     923     923     923       0     923
# String:
# Databases    optimus
# Hosts        10.101.108.104
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerValues'\G
#    SHOW CREATE TABLE `optimus`.`borrowerValues`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'borrowerAttributes'\G
#    SHOW CREATE TABLE `optimus`.`borrowerAttributes`\G
# EXPLAIN /*!50100 PARTITIONS*/
select *, `borrowerValues`.`id` as `borrowerValuesId`, `borrowerValues`.`created` as `borrowerValueCreated` from `borrowerValues` inner join `borrowerAttributes` on `borrowerValues`.`attributeId` = `borrowerAttributes`.`id` inner join (select max(borrowerValues.modified) as maxMod, `attributeId` as `maxAtt` from `borrowerValues` inner join `borrowerAttributes` on `borrowerValues`.`attributeId` = `borrowerAttributes`.`id` where `borrowerValues`.`borrowerId` = 8584631 and `borrowerValues`.`borrowerId` is not null group by `attributeId`) as `vmm` on `borrowerValues`.`attributeId` = `vmm`.`maxAtt` and `borrowerValues`.`modified` = `vmm`.`maxMod` where `borrowerValues`.`borrowerId` = 8584631 and `borrowerValues`.`borrowerId` is not null and `attributeId` in (801, 750, 746, 821, 748, 738, 742, 799, 740, 744, 772, 780, 782, 784, 819, 776, 778, 786, 815, 817, 774, 752) order by `borrowerValues`.`modified` desc limit 1\G

# Query 50: 0 QPS, 0x concurrency, ID 0x60716E6757C9B4456B46F5D47687507D at byte 4218221
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: all events occurred at 2022-07-06T20:03:30
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       1
# Exec time      0   809us   809us   809us   809us   809us       0   809us
# Lock time      0    77us    77us    77us    77us    77us       0    77us
# Rows sent      0       1       1       1       1       1       0       1
# Rows examine   0     116     116     116     116     116       0     116
# Query size     0   2.77k   2.77k   2.77k   2.77k   2.77k       0   2.77k
# String:
# Databases    optimus
# Hosts        10.101.105.230
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderUserHasLenderPortalNotifications'\G
#    SHOW CREATE TABLE `optimus`.`lenderUserHasLenderPortalNotifications`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderUserDeals'\G
#    SHOW CREATE TABLE `optimus`.`lenderUserDeals`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderUserHasLenderPortalNotifications'\G
#    SHOW CREATE TABLE `optimus`.`lenderUserHasLenderPortalNotifications`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id`,`email`,`first`,`name`,`dealId`,`loanType`,`borrowerName`,`institution_id`
            FROM (
                SELECT u.id, u.email, u.first, u.first as name, d.id as 'dealId', lpc.shortName as 'loanType', b.name as borrowerName, l.institution_id,
                    CASE
                        WHEN (`calpn`.`label` IS NULL AND `crlpn`.`label` IS NULL AND `plhlpn`.`lenderUserId` IS NOT NULL) THEN 1 -- the lenderPortalNotification has no child and the user wants this notification
                        WHEN (`lud`.`lenderUserId` IS NOT NULL AND `rlhlpn`.`lenderUserId` IS NOT NULL) THEN 1 -- the user is assigned to the deal and they have indicated they want these notifications for their deals only
                        WHEN `alhlpn`.`lenderUserId` IS NOT NULL THEN 1 -- the user is not assigned to this deal but they want these notifications for all deals
                        ELSE 0 -- the user doesn't meet any situation where they want this notification
                    END AS `shouldSendTo`
                FROM users u
                JOIN lenders l ON l.id = u.id
                JOIN institutions i ON i.id = l.institution_id
                JOIN deals d ON d.loanProductLenderId = i.id
                JOIN borrowers b ON b.id = d.borrowerId
                JOIN loanProductCategories lpc ON d.loanProductCategoryId = lpc.id
                JOIN lenderPortalNotifications AS plpn ON LOWER(plpn.value) = LOWER('newComment')
                JOIN `userPermissions` AS `up` ON `up`.`userId` =  `u`.`id`
                LEFT JOIN lenderPortalNotifications AS calpn ON calpn.dependsOnId = plpn.id
                    AND `calpn`.`label` = 'All'
                LEFT JOIN lenderPortalNotifications AS crlpn ON crlpn.dependsOnId = plpn.id
                    AND `crlpn`.`label` <> 'All'
                LEFT JOIN lenderUserHasLenderPortalNotifications AS alhlpn ON alhlpn.lenderUserId = l.id
                    AND alhlpn.lenderPortalNotificationId = calpn.id
                    AND alhlpn.lenderUserId = l.id
                LEFT JOIN lenderUserHasLenderPortalNotifications AS rlhlpn ON rlhlpn.lenderUserId = l.id
                    AND rlhlpn.lenderPortalNotificationId = crlpn.id
                    AND rlhlpn.lenderUserId = l.id
                LEFT JOIN `lenderUserDeals` AS `lud` ON `lud`.`dealId` = `d`.`id`
                    AND `lud`.`lenderUserId` = `u`.`id`
                    AND `lud`.`deleted` IS NULL
                LEFT JOIN `lenderUserHasLenderPortalNotifications` AS `plhlpn` ON `plhlpn`.`lenderPortalNotificationId` = `plpn`.`id`
                    AND `plhlpn`.`lenderuserId` = `l`.`id`
                WHERE d.id = 2678274
                    AND `up`.`permissionId` = 501
                    AND d.deleted IS NULL
            ) AS `der`
            WHERE `der`.`shouldSendTo` = 1\G

# Query 51: 0 QPS, 0x concurrency, ID 0xAAA2F46164171EFB5EEE8EDD7C806D22 at byte 4230127
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: all events occurred at 2022-07-06T20:03:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       1
# Exec time      0   782us   782us   782us   782us   782us       0   782us
# Lock time      0   100us   100us   100us   100us   100us       0   100us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0     115     115     115     115     115       0     115
# Query size     0   2.79k   2.79k   2.79k   2.79k   2.79k       0   2.79k
# String:
# Databases    optimus
# Hosts        10.101.105.230
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderUserHasLenderPortalNotifications'\G
#    SHOW CREATE TABLE `optimus`.`lenderUserHasLenderPortalNotifications`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderUserDeals'\G
#    SHOW CREATE TABLE `optimus`.`lenderUserDeals`\G
#    SHOW TABLE STATUS FROM `optimus` LIKE 'lenderUserHasLenderPortalNotifications'\G
#    SHOW CREATE TABLE `optimus`.`lenderUserHasLenderPortalNotifications`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id`,`email`,`first`,`name`,`dealId`,`loanType`,`borrowerName`,`institution_id`
            FROM (
                SELECT u.id, u.email, u.first, u.first as name, d.id as 'dealId', lpc.shortName as 'loanType', b.name as borrowerName, l.institution_id,
                    CASE
                        WHEN (`calpn`.`label` IS NULL AND `crlpn`.`label` IS NULL AND `plhlpn`.`lenderUserId` IS NOT NULL) THEN 1 -- the lenderPortalNotification has no child and the user wants this notification
                        WHEN (`lud`.`lenderUserId` IS NOT NULL AND `rlhlpn`.`lenderUserId` IS NOT NULL) THEN 1 -- the user is assigned to the deal and they have indicated they want these notifications for their deals only
                        WHEN `alhlpn`.`lenderUserId` IS NOT NULL THEN 1 -- the user is not assigned to this deal but they want these notifications for all deals
                        ELSE 0 -- the user doesn't meet any situation where they want this notification
                    END AS `shouldSendTo`
                FROM users u
                JOIN lenders l ON l.id = u.id
                JOIN institutions i ON i.id = l.institution_id
                JOIN deals d ON d.loanProductLenderId = i.id
                JOIN borrowers b ON b.id = d.borrowerId
                JOIN loanProductCategories lpc ON d.loanProductCategoryId = lpc.id
                JOIN lenderPortalNotifications AS plpn ON LOWER(plpn.value) = LOWER('fundingDeskRequestCompleted')
                JOIN `userPermissions` AS `up` ON `up`.`userId` =  `u`.`id`
                LEFT JOIN lenderPortalNotifications AS calpn ON calpn.dependsOnId = plpn.id
                    AND `calpn`.`label` = 'All'
                LEFT JOIN lenderPortalNotifications AS crlpn ON crlpn.dependsOnId = plpn.id
                    AND `crlpn`.`label` <> 'All'
                LEFT JOIN lenderUserHasLenderPortalNotifications AS alhlpn ON alhlpn.lenderUserId = l.id
                    AND alhlpn.lenderPortalNotificationId = calpn.id
                    AND alhlpn.lenderUserId = l.id
                LEFT JOIN lenderUserHasLenderPortalNotifications AS rlhlpn ON rlhlpn.lenderUserId = l.id
                    AND rlhlpn.lenderPortalNotificationId = crlpn.id
                    AND rlhlpn.lenderUserId = l.id
                LEFT JOIN `lenderUserDeals` AS `lud` ON `lud`.`dealId` = `d`.`id`
                    AND `lud`.`lenderUserId` = `u`.`id`
                    AND `lud`.`deleted` IS NULL
                LEFT JOIN `lenderUserHasLenderPortalNotifications` AS `plhlpn` ON `plhlpn`.`lenderPortalNotificationId` = `plpn`.`id`
                    AND `plhlpn`.`lenderuserId` = `l`.`id`
                WHERE d.id = 2678274
                    AND `up`.`permissionId` = 501
                    AND d.deleted IS NULL
            ) AS `der`
            WHERE `der`.`shouldSendTo` = 1\G

# Query 52: 0.01 QPS, 0.00x concurrency, ID 0x76D9C3297B273321E0FE474B53FDE088 at byte 82485
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:24 to 2022-07-06T19:19:24
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       5
# Exec time      0   743us   140us   160us   148us   159us     9us   138us
# Lock time      0   336us    60us    79us    67us    76us     7us    60us
# Rows sent      0       5       1       1       1       1       0       1
# Rows examine   0      30       6       6       6       6       0       6
# Query size     0     835     167     167     167     167       0     167
# String:
# Databases    optimus (3/60%), urls (2/40%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `information_schema` LIKE 'RDS_CONTROL_PERFORMANCE_INSIGHTS_STATUS'\G
#    SHOW CREATE TABLE `information_schema`.`RDS_CONTROL_PERFORMANCE_INSIGHTS_STATUS`\G
# EXPLAIN /*!50100 PARTITIONS*/
select count(*) from information_schema.RDS_CONTROL_PERFORMANCE_INSIGHTS_STATUS where FIELD = 'PERFORMANCE_SCHEMA.RDS_EVENTS_THREADS_WAITS_CURRENT' and value='ENABLED'\G

# Query 53: 0.00 QPS, 0.00x concurrency, ID 0x3DFB1D2943918F193699086B1C5989A1 at byte 3386402
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:25:31 to 2022-07-06T20:02:27
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       7
# Exec time      0   534us    72us    83us    76us    80us     3us    73us
# Lock time      0   137us    17us    25us    19us    23us     2us    17us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0      14       2       2       2       2       0       2
# Query size     0     623      89      89      89      89       0      89
# String:
# Databases    optimus
# Hosts        10.101.100.212 (1/14%), 10.101.102.9 (1/14%)... 5 more
# Users        greedo
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'loanProductRestrictions'\G
#    SHOW CREATE TABLE `optimus`.`loanProductRestrictions`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from `loanProductRestrictions` where `loanProductRestrictions`.`deleted` is null\G

# Query 54: 0.01 QPS, 0.00x concurrency, ID 0x81002E074D11F59ADB1A5AAC1D14B0AB at byte 537184
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:24 to 2022-07-06T19:17:24
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       4
# Exec time      0   476us   112us   131us   119us   125us     6us   113us
# Lock time      0   256us    59us    74us    64us    73us     6us    68us
# Rows sent      0       4       1       1       1       1       0       1
# Rows examine   0       4       1       1       1       1       0       1
# Query size     0     432     108     108     108     108       0     108
# String:
# Databases    optimus
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `performance_schema` LIKE 'setup_actors'\G
#    SHOW CREATE TABLE `performance_schema`.`setup_actors`\G
# EXPLAIN /*!50100 PARTITIONS*/
select count(*) from performance_schema.setup_actors where host like '%' and user like '%' and role like '%'\G

# Query 55: 0.01 QPS, 0.00x concurrency, ID 0xD3FDA7D883B664A2E3F4EA2E4A7E839B at byte 222839
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:11:24 to 2022-07-06T19:17:24
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       4
# Exec time      0   454us   101us   125us   113us   119us     7us   116us
# Lock time      0   215us    47us    59us    53us    57us     4us    56us
# Rows sent      0       4       1       1       1       1       0       1
# Rows examine   0      60      15      15      15      15       0      15
# Query size     0     588     147     147     147     147       0     147
# String:
# Databases    optimus
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `performance_schema` LIKE 'setup_consumers'\G
#    SHOW CREATE TABLE `performance_schema`.`setup_consumers`\G
# EXPLAIN /*!50100 PARTITIONS*/
select count(*) from performance_schema.setup_consumers where name = 'global_instrumentation' or name ='thread_instrumentation' and enabled = 'YES'\G

# Query 56: 0.00 QPS, 0.00x concurrency, ID 0x3394EDFBFA26A9190825B91EFC1FA460 at byte 25320
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:10:25 to 2022-07-06T19:25:25
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       4
# Exec time      0   382us    88us   102us    95us    98us     5us    98us
# Lock time      0   167us    36us    46us    41us    44us     4us    44us
# Rows sent      0       4       1       1       1       1       0       1
# Rows examine   0       4       1       1       1       1       0       1
# Query size     0     240      60      60      60      60       0      60
# String:
# Databases    optimus (3/75%), urls (1/25%)
# Hosts        localhost
# Users        rdsadmin
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `mysql` LIKE 'rds_configuration'\G
#    SHOW CREATE TABLE `mysql`.`rds_configuration`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT SQL_NO_CACHE NAME, VALUE FROM mysql.rds_configuration\G

# Query 57: 0.00 QPS, 0.00x concurrency, ID 0xE9EEBE968082B0BD8FC22B82A704DFB1 at byte 4632470
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:53:28 to 2022-07-06T20:09:28
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       2
# Exec time      0   375us   187us   188us   187us   188us       0   187us
# Lock time      0    39us    17us    22us    19us    22us     3us    19us
# Rows sent      0     212     106     106     106     106       0     106
# Rows examine   0     260     130     130     130     130       0     130
# Query size     0     150      75      75      75      75       0      75
# String:
# Databases    optimus
# Hosts        10.101.108.171 (1/50%), 10.101.108.244 (1/50%)
# Users        greedo
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'deadDispositions'\G
#    SHOW CREATE TABLE `optimus`.`deadDispositions`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from `deadDispositions` where `deadDispositions`.`deleted` is null\G

# Query 58: 0.00 QPS, 0.00x concurrency, ID 0xCBD26BA08C328C95B22C5BBEE675BC95 at byte 2218253
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-06T19:25:31 to 2022-07-06T20:02:27
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       4
# Exec time      0   336us    81us    88us    84us    84us     1us    80us
# Lock time      0    83us    19us    24us    20us    23us     2us    19us
# Rows sent      0       4       1       1       1       1       0       1
# Rows examine   0      24       6       6       6       6       0       6
# Query size     0     284      71      71      71      71       0      71
# String:
# Databases    optimus
# Hosts        10.101.102.9 (1/25%), 10.101.106.108 (1/25%)... 2 more
# Users        greedo
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `optimus` LIKE 'eventLogTypes'\G
#    SHOW CREATE TABLE `optimus`.`eventLogTypes`\G
# EXPLAIN /*!50100 PARTITIONS*/
select * from `eventLogTypes` where `alias` = 'tier2Autosubmit' limit 1\G

# Query 59: 0 QPS, 0x concurrency, ID 0xF849200284387F9B9017BC66C88E0B5A at byte 2798355
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: all events occurred at 2022-07-06T19:46:25
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       1
# Exec time      0   162us   162us   162us   162us   162us       0   162us
# Lock time      0    86us    86us    86us    86us    86us       0    86us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     0     174     174     174     174     174       0     174
# String:
# Databases    optimus
# Hosts        10.101.10.153
# Users        kdavey
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `information_schema` LIKE 'TABLES'\G
#    SHOW CREATE TABLE `information_schema`.`TABLES`\G
# EXPLAIN /*!50100 PARTITIONS*/
/* ApplicationName=DBeaver 22.1.0 - Metadata */ SELECT * FROM information_schema.TABLES t
WHERE
	t.TABLE_SCHEMA = 'information_schema'
	AND t.TABLE_NAME = 'CHECK_CONSTRAINTS'\G
